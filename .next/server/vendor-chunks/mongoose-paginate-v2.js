"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mongoose-paginate-v2";
exports.ids = ["vendor-chunks/mongoose-paginate-v2"];
exports.modules = {

/***/ "(rsc)/./node_modules/mongoose-paginate-v2/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/mongoose-paginate-v2/dist/index.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * @param {Object}              [query={}]\r\n * @param {Object}              [options={}]\r\n * @param {Object|String}       [options.select='']\r\n * @param {Object|String}       [options.projection={}]\r\n * @param {Object}              [options.options={}]\r\n * @param {Object|String}       [options.sort]\r\n * @param {Object|String}       [options.customLabels]\r\n * @param {Object}              [options.collation]\r\n * @param {Array|Object|String} [options.populate]\r\n * @param {Boolean}             [options.lean=false]\r\n * @param {Boolean}             [options.leanWithId=true]\r\n * @param {Number}              [options.offset=0] - Use offset or page to set skip position\r\n * @param {Number}              [options.page=1]\r\n * @param {Number}              [options.limit=10]\r\n * @param {Boolean}             [options.useEstimatedCount=true] - Enable estimatedDocumentCount for larger datasets. As the name says, the count may not abe accurate.\r\n * @param {Function}            [options.useCustomCountFn=false] - use custom function for count datasets.\r\n * @param {Object}              [options.read={}] - Determines the MongoDB nodes from which to read.\r\n * @param {Function}            [callback]\r\n *\r\n * @returns {Promise}\r\n */\nvar PaginationParametersHelper = __webpack_require__(/*! ./pagination-parameters */ \"(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\");\n\nvar paginateSubDocsHelper = __webpack_require__(/*! ./pagination-subdocs */ \"(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\");\n\nvar defaultOptions = {\n  customLabels: {\n    totalDocs: 'totalDocs',\n    limit: 'limit',\n    page: 'page',\n    totalPages: 'totalPages',\n    docs: 'docs',\n    nextPage: 'nextPage',\n    prevPage: 'prevPage',\n    pagingCounter: 'pagingCounter',\n    hasPrevPage: 'hasPrevPage',\n    hasNextPage: 'hasNextPage',\n    meta: null\n  },\n  collation: {},\n  lean: false,\n  leanWithId: true,\n  limit: 10,\n  projection: {},\n  select: '',\n  options: {},\n  pagination: true,\n  useEstimatedCount: false,\n  useCustomCountFn: false,\n  forceCountFn: false,\n  allowDiskUse: false,\n  customFind: 'find'\n};\n\nfunction paginate(query, options, callback) {\n  options = _objectSpread(_objectSpread(_objectSpread({}, defaultOptions), paginate.options), options);\n  query = query || {};\n  var _options = options,\n      collation = _options.collation,\n      lean = _options.lean,\n      leanWithId = _options.leanWithId,\n      populate = _options.populate,\n      projection = _options.projection,\n      read = _options.read,\n      select = _options.select,\n      sort = _options.sort,\n      pagination = _options.pagination,\n      useEstimatedCount = _options.useEstimatedCount,\n      useCustomCountFn = _options.useCustomCountFn,\n      forceCountFn = _options.forceCountFn,\n      allowDiskUse = _options.allowDiskUse,\n      customFind = _options.customFind;\n\n  var customLabels = _objectSpread(_objectSpread({}, defaultOptions.customLabels), options.customLabels);\n\n  var limit = defaultOptions.limit;\n\n  if (pagination) {\n    limit = parseInt(options.limit, 10) > 0 ? parseInt(options.limit, 10) : 0;\n  }\n\n  var isCallbackSpecified = typeof callback === 'function';\n  var findOptions = options.options;\n  var offset;\n  var page;\n  var skip;\n  var docsPromise = []; // Labels\n\n  var labelDocs = customLabels.docs;\n  var labelLimit = customLabels.limit;\n  var labelNextPage = customLabels.nextPage;\n  var labelPage = customLabels.page;\n  var labelPagingCounter = customLabels.pagingCounter;\n  var labelPrevPage = customLabels.prevPage;\n  var labelTotal = customLabels.totalDocs;\n  var labelTotalPages = customLabels.totalPages;\n  var labelHasPrevPage = customLabels.hasPrevPage;\n  var labelHasNextPage = customLabels.hasNextPage;\n  var labelMeta = customLabels.meta;\n\n  if (Object.prototype.hasOwnProperty.call(options, 'offset')) {\n    offset = parseInt(options.offset, 10);\n    skip = offset;\n  } else if (Object.prototype.hasOwnProperty.call(options, 'page')) {\n    page = parseInt(options.page, 10) < 1 ? 1 : parseInt(options.page, 10);\n    skip = (page - 1) * limit;\n  } else {\n    offset = 0;\n    page = 1;\n    skip = offset;\n  }\n\n  if (!pagination) {\n    page = 1;\n  }\n\n  var countPromise; // Only run count when pagination is enabled\n\n  if (pagination) {\n    if (forceCountFn === true) {\n      // Deprecated since starting from MongoDB Node.JS driver v3.1\n      // Hack for mongo < v3.4\n      if (Object.keys(collation).length > 0) {\n        countPromise = this.count(query).collation(collation).exec();\n      } else {\n        countPromise = this.count(query).exec();\n      }\n    } else {\n      if (useEstimatedCount === true) {\n        countPromise = this.estimatedDocumentCount().exec();\n      } else if (typeof useCustomCountFn === 'function') {\n        countPromise = useCustomCountFn();\n      } else {\n        // Hack for mongo < v3.4\n        if (Object.keys(collation).length > 0) {\n          countPromise = this.countDocuments(query).collation(collation).exec();\n        } else {\n          countPromise = this.countDocuments(query).exec();\n        }\n      }\n    }\n  }\n\n  if (limit) {\n    var mQuery = this[customFind](query, projection, findOptions);\n\n    if (populate) {\n      mQuery.populate(populate);\n    }\n\n    mQuery.select(select);\n    mQuery.sort(sort);\n    mQuery.lean(lean);\n\n    if (read && read.pref) {\n      /**\r\n       * Determines the MongoDB nodes from which to read.\r\n       * @param read.pref one of the listed preference options or aliases\r\n       * @param read.tags optional tags for this query\r\n       */\n      mQuery.read(read.pref, read.tags);\n    } // Hack for mongo < v3.4\n\n\n    if (Object.keys(collation).length > 0) {\n      mQuery.collation(collation);\n    }\n\n    if (pagination) {\n      mQuery.skip(skip);\n      mQuery.limit(limit);\n    }\n\n    try {\n      if (allowDiskUse === true) {\n        mQuery.allowDiskUse();\n      }\n    } catch (ex) {\n      console.error('Your MongoDB version does not support `allowDiskUse`.');\n    }\n\n    docsPromise = mQuery.exec();\n\n    if (lean && leanWithId) {\n      docsPromise = docsPromise.then(function (docs) {\n        docs.forEach(function (doc) {\n          if (doc._id) {\n            doc.id = String(doc._id);\n          }\n        });\n        return docs;\n      });\n    }\n  }\n\n  return Promise.all([countPromise, docsPromise]).then(function (values) {\n    var count = values[0];\n    var docs = values[1];\n\n    if (pagination !== true) {\n      count = docs.length;\n    }\n\n    var meta = {\n      [labelTotal]: count\n    };\n    var result = {};\n\n    if (typeof offset !== 'undefined') {\n      meta.offset = offset;\n      page = Math.ceil((offset + 1) / limit);\n    }\n\n    var pages = limit > 0 ? Math.ceil(count / limit) || 1 : null; // Setting default values\n\n    meta[labelLimit] = count;\n    meta[labelTotalPages] = 1;\n    meta[labelPage] = page;\n    meta[labelPagingCounter] = (page - 1) * limit + 1;\n    meta[labelHasPrevPage] = false;\n    meta[labelHasNextPage] = false;\n    meta[labelPrevPage] = null;\n    meta[labelNextPage] = null;\n\n    if (pagination) {\n      meta[labelLimit] = limit;\n      meta[labelTotalPages] = pages; // Set prev page\n\n      if (page > 1) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = page - 1;\n      } else if (page == 1 && typeof offset !== 'undefined' && offset !== 0) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = 1;\n      } // Set next page\n\n\n      if (page < pages) {\n        meta[labelHasNextPage] = true;\n        meta[labelNextPage] = page + 1;\n      }\n    } // Remove customLabels set to false\n\n\n    delete meta['false'];\n\n    if (limit == 0) {\n      meta[labelLimit] = 0;\n      meta[labelTotalPages] = 1;\n      meta[labelPage] = 1;\n      meta[labelPagingCounter] = 1;\n      meta[labelPrevPage] = null;\n      meta[labelNextPage] = null;\n      meta[labelHasPrevPage] = false;\n      meta[labelHasNextPage] = false;\n    }\n\n    if (labelMeta) {\n      result = {\n        [labelDocs]: docs,\n        [labelMeta]: meta\n      };\n    } else {\n      result = _objectSpread({\n        [labelDocs]: docs\n      }, meta);\n    }\n\n    return isCallbackSpecified ? callback(null, result) : Promise.resolve(result);\n  }).catch(function (error) {\n    return isCallbackSpecified ? callback(error) : Promise.reject(error);\n  });\n}\n/**\r\n * @param {Schema} schema\r\n */\n\n\nmodule.exports = function (schema) {\n  schema.statics.paginate = paginate;\n  schema.statics.paginateSubDocs = paginateSubDocsHelper;\n};\n\nmodule.exports.PaginationParameters = PaginationParametersHelper;\nmodule.exports.paginateSubDocs = paginateSubDocsHelper;\nmodule.exports.paginate = paginate;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiwyQ0FBMkMsZ0NBQWdDLG9DQUFvQyxvREFBb0Qsc0JBQXNCLDBDQUEwQyxpRUFBaUUsS0FBSyxrQ0FBa0M7O0FBRTNVLGlDQUFpQyxnQkFBZ0Isc0JBQXNCLE9BQU8sdURBQXVELGFBQWEsdURBQXVELDRDQUE0QyxLQUFLLDZDQUE2Qyw2RUFBNkUsT0FBTyxpREFBaUQsbUZBQW1GLE9BQU87O0FBRXRnQiw0Q0FBNEMsa0JBQWtCLGtDQUFrQyxvRUFBb0UsS0FBSyxPQUFPLG9CQUFvQjs7QUFFcE07QUFDQSxXQUFXLHFCQUFxQixTQUFTO0FBQ3pDLFdBQVcscUJBQXFCLFdBQVc7QUFDM0MsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUIsc0JBQXNCO0FBQ3RELFdBQVcscUJBQXFCLG1CQUFtQjtBQUNuRCxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQixnQkFBZ0I7QUFDaEQsV0FBVyxxQkFBcUI7QUFDaEM7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpQ0FBaUMsbUJBQU8sQ0FBQyx3R0FBeUI7O0FBRWxFLDRCQUE0QixtQkFBTyxDQUFDLGtHQUFzQjs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtREFBbUQ7O0FBRW5EOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrRUFBa0U7O0FBRWxFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25COzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUM7QUFDbkMsOEJBQThCO0FBQzlCLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnJlLWxhYi1zaXRlLy4vbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvaW5kZXguanM/ZjI3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vKipcclxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbcXVlcnk9e31dXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW29wdGlvbnM9e31dXHJcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gICAgICAgW29wdGlvbnMuc2VsZWN0PScnXVxyXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9ICAgICAgIFtvcHRpb25zLnByb2plY3Rpb249e31dXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW29wdGlvbnMub3B0aW9ucz17fV1cclxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSAgICAgICBbb3B0aW9ucy5zb3J0XVxyXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9ICAgICAgIFtvcHRpb25zLmN1c3RvbUxhYmVsc11cclxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucy5jb2xsYXRpb25dXHJcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fFN0cmluZ30gW29wdGlvbnMucG9wdWxhdGVdXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgICAgICAgW29wdGlvbnMubGVhbj1mYWxzZV1cclxuICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgICAgICBbb3B0aW9ucy5sZWFuV2l0aElkPXRydWVdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSAgICAgICAgICAgICAgW29wdGlvbnMub2Zmc2V0PTBdIC0gVXNlIG9mZnNldCBvciBwYWdlIHRvIHNldCBza2lwIHBvc2l0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSAgICAgICAgICAgICAgW29wdGlvbnMucGFnZT0xXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gICAgICAgICAgICAgIFtvcHRpb25zLmxpbWl0PTEwXVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgICAgICAgIFtvcHRpb25zLnVzZUVzdGltYXRlZENvdW50PXRydWVdIC0gRW5hYmxlIGVzdGltYXRlZERvY3VtZW50Q291bnQgZm9yIGxhcmdlciBkYXRhc2V0cy4gQXMgdGhlIG5hbWUgc2F5cywgdGhlIGNvdW50IG1heSBub3QgYWJlIGFjY3VyYXRlLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICAgICAgICAgIFtvcHRpb25zLnVzZUN1c3RvbUNvdW50Rm49ZmFsc2VdIC0gdXNlIGN1c3RvbSBmdW5jdGlvbiBmb3IgY291bnQgZGF0YXNldHMuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW29wdGlvbnMucmVhZD17fV0gLSBEZXRlcm1pbmVzIHRoZSBNb25nb0RCIG5vZGVzIGZyb20gd2hpY2ggdG8gcmVhZC5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gICAgICAgICAgICBbY2FsbGJhY2tdXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gKi9cbnZhciBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJy4vcGFnaW5hdGlvbi1wYXJhbWV0ZXJzJyk7XG5cbnZhciBwYWdpbmF0ZVN1YkRvY3NIZWxwZXIgPSByZXF1aXJlKCcuL3BhZ2luYXRpb24tc3ViZG9jcycpO1xuXG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGN1c3RvbUxhYmVsczoge1xuICAgIHRvdGFsRG9jczogJ3RvdGFsRG9jcycsXG4gICAgbGltaXQ6ICdsaW1pdCcsXG4gICAgcGFnZTogJ3BhZ2UnLFxuICAgIHRvdGFsUGFnZXM6ICd0b3RhbFBhZ2VzJyxcbiAgICBkb2NzOiAnZG9jcycsXG4gICAgbmV4dFBhZ2U6ICduZXh0UGFnZScsXG4gICAgcHJldlBhZ2U6ICdwcmV2UGFnZScsXG4gICAgcGFnaW5nQ291bnRlcjogJ3BhZ2luZ0NvdW50ZXInLFxuICAgIGhhc1ByZXZQYWdlOiAnaGFzUHJldlBhZ2UnLFxuICAgIGhhc05leHRQYWdlOiAnaGFzTmV4dFBhZ2UnLFxuICAgIG1ldGE6IG51bGxcbiAgfSxcbiAgY29sbGF0aW9uOiB7fSxcbiAgbGVhbjogZmFsc2UsXG4gIGxlYW5XaXRoSWQ6IHRydWUsXG4gIGxpbWl0OiAxMCxcbiAgcHJvamVjdGlvbjoge30sXG4gIHNlbGVjdDogJycsXG4gIG9wdGlvbnM6IHt9LFxuICBwYWdpbmF0aW9uOiB0cnVlLFxuICB1c2VFc3RpbWF0ZWRDb3VudDogZmFsc2UsXG4gIHVzZUN1c3RvbUNvdW50Rm46IGZhbHNlLFxuICBmb3JjZUNvdW50Rm46IGZhbHNlLFxuICBhbGxvd0Rpc2tVc2U6IGZhbHNlLFxuICBjdXN0b21GaW5kOiAnZmluZCdcbn07XG5cbmZ1bmN0aW9uIHBhZ2luYXRlKHF1ZXJ5LCBvcHRpb25zLCBjYWxsYmFjaykge1xuICBvcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zKSwgcGFnaW5hdGUub3B0aW9ucyksIG9wdGlvbnMpO1xuICBxdWVyeSA9IHF1ZXJ5IHx8IHt9O1xuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgY29sbGF0aW9uID0gX29wdGlvbnMuY29sbGF0aW9uLFxuICAgICAgbGVhbiA9IF9vcHRpb25zLmxlYW4sXG4gICAgICBsZWFuV2l0aElkID0gX29wdGlvbnMubGVhbldpdGhJZCxcbiAgICAgIHBvcHVsYXRlID0gX29wdGlvbnMucG9wdWxhdGUsXG4gICAgICBwcm9qZWN0aW9uID0gX29wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHJlYWQgPSBfb3B0aW9ucy5yZWFkLFxuICAgICAgc2VsZWN0ID0gX29wdGlvbnMuc2VsZWN0LFxuICAgICAgc29ydCA9IF9vcHRpb25zLnNvcnQsXG4gICAgICBwYWdpbmF0aW9uID0gX29wdGlvbnMucGFnaW5hdGlvbixcbiAgICAgIHVzZUVzdGltYXRlZENvdW50ID0gX29wdGlvbnMudXNlRXN0aW1hdGVkQ291bnQsXG4gICAgICB1c2VDdXN0b21Db3VudEZuID0gX29wdGlvbnMudXNlQ3VzdG9tQ291bnRGbixcbiAgICAgIGZvcmNlQ291bnRGbiA9IF9vcHRpb25zLmZvcmNlQ291bnRGbixcbiAgICAgIGFsbG93RGlza1VzZSA9IF9vcHRpb25zLmFsbG93RGlza1VzZSxcbiAgICAgIGN1c3RvbUZpbmQgPSBfb3B0aW9ucy5jdXN0b21GaW5kO1xuXG4gIHZhciBjdXN0b21MYWJlbHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zLmN1c3RvbUxhYmVscyksIG9wdGlvbnMuY3VzdG9tTGFiZWxzKTtcblxuICB2YXIgbGltaXQgPSBkZWZhdWx0T3B0aW9ucy5saW1pdDtcblxuICBpZiAocGFnaW5hdGlvbikge1xuICAgIGxpbWl0ID0gcGFyc2VJbnQob3B0aW9ucy5saW1pdCwgMTApID4gMCA/IHBhcnNlSW50KG9wdGlvbnMubGltaXQsIDEwKSA6IDA7XG4gIH1cblxuICB2YXIgaXNDYWxsYmFja1NwZWNpZmllZCA9IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJztcbiAgdmFyIGZpbmRPcHRpb25zID0gb3B0aW9ucy5vcHRpb25zO1xuICB2YXIgb2Zmc2V0O1xuICB2YXIgcGFnZTtcbiAgdmFyIHNraXA7XG4gIHZhciBkb2NzUHJvbWlzZSA9IFtdOyAvLyBMYWJlbHNcblxuICB2YXIgbGFiZWxEb2NzID0gY3VzdG9tTGFiZWxzLmRvY3M7XG4gIHZhciBsYWJlbExpbWl0ID0gY3VzdG9tTGFiZWxzLmxpbWl0O1xuICB2YXIgbGFiZWxOZXh0UGFnZSA9IGN1c3RvbUxhYmVscy5uZXh0UGFnZTtcbiAgdmFyIGxhYmVsUGFnZSA9IGN1c3RvbUxhYmVscy5wYWdlO1xuICB2YXIgbGFiZWxQYWdpbmdDb3VudGVyID0gY3VzdG9tTGFiZWxzLnBhZ2luZ0NvdW50ZXI7XG4gIHZhciBsYWJlbFByZXZQYWdlID0gY3VzdG9tTGFiZWxzLnByZXZQYWdlO1xuICB2YXIgbGFiZWxUb3RhbCA9IGN1c3RvbUxhYmVscy50b3RhbERvY3M7XG4gIHZhciBsYWJlbFRvdGFsUGFnZXMgPSBjdXN0b21MYWJlbHMudG90YWxQYWdlcztcbiAgdmFyIGxhYmVsSGFzUHJldlBhZ2UgPSBjdXN0b21MYWJlbHMuaGFzUHJldlBhZ2U7XG4gIHZhciBsYWJlbEhhc05leHRQYWdlID0gY3VzdG9tTGFiZWxzLmhhc05leHRQYWdlO1xuICB2YXIgbGFiZWxNZXRhID0gY3VzdG9tTGFiZWxzLm1ldGE7XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnb2Zmc2V0JykpIHtcbiAgICBvZmZzZXQgPSBwYXJzZUludChvcHRpb25zLm9mZnNldCwgMTApO1xuICAgIHNraXAgPSBvZmZzZXQ7XG4gIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdwYWdlJykpIHtcbiAgICBwYWdlID0gcGFyc2VJbnQob3B0aW9ucy5wYWdlLCAxMCkgPCAxID8gMSA6IHBhcnNlSW50KG9wdGlvbnMucGFnZSwgMTApO1xuICAgIHNraXAgPSAocGFnZSAtIDEpICogbGltaXQ7XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0ID0gMDtcbiAgICBwYWdlID0gMTtcbiAgICBza2lwID0gb2Zmc2V0O1xuICB9XG5cbiAgaWYgKCFwYWdpbmF0aW9uKSB7XG4gICAgcGFnZSA9IDE7XG4gIH1cblxuICB2YXIgY291bnRQcm9taXNlOyAvLyBPbmx5IHJ1biBjb3VudCB3aGVuIHBhZ2luYXRpb24gaXMgZW5hYmxlZFxuXG4gIGlmIChwYWdpbmF0aW9uKSB7XG4gICAgaWYgKGZvcmNlQ291bnRGbiA9PT0gdHJ1ZSkge1xuICAgICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBzdGFydGluZyBmcm9tIE1vbmdvREIgTm9kZS5KUyBkcml2ZXIgdjMuMVxuICAgICAgLy8gSGFjayBmb3IgbW9uZ28gPCB2My40XG4gICAgICBpZiAoT2JqZWN0LmtleXMoY29sbGF0aW9uKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvdW50UHJvbWlzZSA9IHRoaXMuY291bnQocXVlcnkpLmNvbGxhdGlvbihjb2xsYXRpb24pLmV4ZWMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50UHJvbWlzZSA9IHRoaXMuY291bnQocXVlcnkpLmV4ZWMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHVzZUVzdGltYXRlZENvdW50ID09PSB0cnVlKSB7XG4gICAgICAgIGNvdW50UHJvbWlzZSA9IHRoaXMuZXN0aW1hdGVkRG9jdW1lbnRDb3VudCgpLmV4ZWMoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHVzZUN1c3RvbUNvdW50Rm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY291bnRQcm9taXNlID0gdXNlQ3VzdG9tQ291bnRGbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFjayBmb3IgbW9uZ28gPCB2My40XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhjb2xsYXRpb24pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50RG9jdW1lbnRzKHF1ZXJ5KS5jb2xsYXRpb24oY29sbGF0aW9uKS5leGVjKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5jb3VudERvY3VtZW50cyhxdWVyeSkuZXhlYygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGxpbWl0KSB7XG4gICAgdmFyIG1RdWVyeSA9IHRoaXNbY3VzdG9tRmluZF0ocXVlcnksIHByb2plY3Rpb24sIGZpbmRPcHRpb25zKTtcblxuICAgIGlmIChwb3B1bGF0ZSkge1xuICAgICAgbVF1ZXJ5LnBvcHVsYXRlKHBvcHVsYXRlKTtcbiAgICB9XG5cbiAgICBtUXVlcnkuc2VsZWN0KHNlbGVjdCk7XG4gICAgbVF1ZXJ5LnNvcnQoc29ydCk7XG4gICAgbVF1ZXJ5LmxlYW4obGVhbik7XG5cbiAgICBpZiAocmVhZCAmJiByZWFkLnByZWYpIHtcbiAgICAgIC8qKlxyXG4gICAgICAgKiBEZXRlcm1pbmVzIHRoZSBNb25nb0RCIG5vZGVzIGZyb20gd2hpY2ggdG8gcmVhZC5cclxuICAgICAgICogQHBhcmFtIHJlYWQucHJlZiBvbmUgb2YgdGhlIGxpc3RlZCBwcmVmZXJlbmNlIG9wdGlvbnMgb3IgYWxpYXNlc1xyXG4gICAgICAgKiBAcGFyYW0gcmVhZC50YWdzIG9wdGlvbmFsIHRhZ3MgZm9yIHRoaXMgcXVlcnlcclxuICAgICAgICovXG4gICAgICBtUXVlcnkucmVhZChyZWFkLnByZWYsIHJlYWQudGFncyk7XG4gICAgfSAvLyBIYWNrIGZvciBtb25nbyA8IHYzLjRcblxuXG4gICAgaWYgKE9iamVjdC5rZXlzKGNvbGxhdGlvbikubGVuZ3RoID4gMCkge1xuICAgICAgbVF1ZXJ5LmNvbGxhdGlvbihjb2xsYXRpb24pO1xuICAgIH1cblxuICAgIGlmIChwYWdpbmF0aW9uKSB7XG4gICAgICBtUXVlcnkuc2tpcChza2lwKTtcbiAgICAgIG1RdWVyeS5saW1pdChsaW1pdCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChhbGxvd0Rpc2tVc2UgPT09IHRydWUpIHtcbiAgICAgICAgbVF1ZXJ5LmFsbG93RGlza1VzZSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdZb3VyIE1vbmdvREIgdmVyc2lvbiBkb2VzIG5vdCBzdXBwb3J0IGBhbGxvd0Rpc2tVc2VgLicpO1xuICAgIH1cblxuICAgIGRvY3NQcm9taXNlID0gbVF1ZXJ5LmV4ZWMoKTtcblxuICAgIGlmIChsZWFuICYmIGxlYW5XaXRoSWQpIHtcbiAgICAgIGRvY3NQcm9taXNlID0gZG9jc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZG9jcykge1xuICAgICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIGlmIChkb2MuX2lkKSB7XG4gICAgICAgICAgICBkb2MuaWQgPSBTdHJpbmcoZG9jLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRvY3M7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW2NvdW50UHJvbWlzZSwgZG9jc1Byb21pc2VdKS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB2YXIgY291bnQgPSB2YWx1ZXNbMF07XG4gICAgdmFyIGRvY3MgPSB2YWx1ZXNbMV07XG5cbiAgICBpZiAocGFnaW5hdGlvbiAhPT0gdHJ1ZSkge1xuICAgICAgY291bnQgPSBkb2NzLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgbWV0YSA9IHtcbiAgICAgIFtsYWJlbFRvdGFsXTogY291bnRcbiAgICB9O1xuICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbWV0YS5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICBwYWdlID0gTWF0aC5jZWlsKChvZmZzZXQgKyAxKSAvIGxpbWl0KTtcbiAgICB9XG5cbiAgICB2YXIgcGFnZXMgPSBsaW1pdCA+IDAgPyBNYXRoLmNlaWwoY291bnQgLyBsaW1pdCkgfHwgMSA6IG51bGw7IC8vIFNldHRpbmcgZGVmYXVsdCB2YWx1ZXNcblxuICAgIG1ldGFbbGFiZWxMaW1pdF0gPSBjb3VudDtcbiAgICBtZXRhW2xhYmVsVG90YWxQYWdlc10gPSAxO1xuICAgIG1ldGFbbGFiZWxQYWdlXSA9IHBhZ2U7XG4gICAgbWV0YVtsYWJlbFBhZ2luZ0NvdW50ZXJdID0gKHBhZ2UgLSAxKSAqIGxpbWl0ICsgMTtcbiAgICBtZXRhW2xhYmVsSGFzUHJldlBhZ2VdID0gZmFsc2U7XG4gICAgbWV0YVtsYWJlbEhhc05leHRQYWdlXSA9IGZhbHNlO1xuICAgIG1ldGFbbGFiZWxQcmV2UGFnZV0gPSBudWxsO1xuICAgIG1ldGFbbGFiZWxOZXh0UGFnZV0gPSBudWxsO1xuXG4gICAgaWYgKHBhZ2luYXRpb24pIHtcbiAgICAgIG1ldGFbbGFiZWxMaW1pdF0gPSBsaW1pdDtcbiAgICAgIG1ldGFbbGFiZWxUb3RhbFBhZ2VzXSA9IHBhZ2VzOyAvLyBTZXQgcHJldiBwYWdlXG5cbiAgICAgIGlmIChwYWdlID4gMSkge1xuICAgICAgICBtZXRhW2xhYmVsSGFzUHJldlBhZ2VdID0gdHJ1ZTtcbiAgICAgICAgbWV0YVtsYWJlbFByZXZQYWdlXSA9IHBhZ2UgLSAxO1xuICAgICAgfSBlbHNlIGlmIChwYWdlID09IDEgJiYgdHlwZW9mIG9mZnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgIG1ldGFbbGFiZWxIYXNQcmV2UGFnZV0gPSB0cnVlO1xuICAgICAgICBtZXRhW2xhYmVsUHJldlBhZ2VdID0gMTtcbiAgICAgIH0gLy8gU2V0IG5leHQgcGFnZVxuXG5cbiAgICAgIGlmIChwYWdlIDwgcGFnZXMpIHtcbiAgICAgICAgbWV0YVtsYWJlbEhhc05leHRQYWdlXSA9IHRydWU7XG4gICAgICAgIG1ldGFbbGFiZWxOZXh0UGFnZV0gPSBwYWdlICsgMTtcbiAgICAgIH1cbiAgICB9IC8vIFJlbW92ZSBjdXN0b21MYWJlbHMgc2V0IHRvIGZhbHNlXG5cblxuICAgIGRlbGV0ZSBtZXRhWydmYWxzZSddO1xuXG4gICAgaWYgKGxpbWl0ID09IDApIHtcbiAgICAgIG1ldGFbbGFiZWxMaW1pdF0gPSAwO1xuICAgICAgbWV0YVtsYWJlbFRvdGFsUGFnZXNdID0gMTtcbiAgICAgIG1ldGFbbGFiZWxQYWdlXSA9IDE7XG4gICAgICBtZXRhW2xhYmVsUGFnaW5nQ291bnRlcl0gPSAxO1xuICAgICAgbWV0YVtsYWJlbFByZXZQYWdlXSA9IG51bGw7XG4gICAgICBtZXRhW2xhYmVsTmV4dFBhZ2VdID0gbnVsbDtcbiAgICAgIG1ldGFbbGFiZWxIYXNQcmV2UGFnZV0gPSBmYWxzZTtcbiAgICAgIG1ldGFbbGFiZWxIYXNOZXh0UGFnZV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobGFiZWxNZXRhKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIFtsYWJlbERvY3NdOiBkb2NzLFxuICAgICAgICBbbGFiZWxNZXRhXTogbWV0YVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgIFtsYWJlbERvY3NdOiBkb2NzXG4gICAgICB9LCBtZXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNDYWxsYmFja1NwZWNpZmllZCA/IGNhbGxiYWNrKG51bGwsIHJlc3VsdCkgOiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgcmV0dXJuIGlzQ2FsbGJhY2tTcGVjaWZpZWQgPyBjYWxsYmFjayhlcnJvcikgOiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH0pO1xufVxuLyoqXHJcbiAqIEBwYXJhbSB7U2NoZW1hfSBzY2hlbWFcclxuICovXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2NoZW1hKSB7XG4gIHNjaGVtYS5zdGF0aWNzLnBhZ2luYXRlID0gcGFnaW5hdGU7XG4gIHNjaGVtYS5zdGF0aWNzLnBhZ2luYXRlU3ViRG9jcyA9IHBhZ2luYXRlU3ViRG9jc0hlbHBlcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzLlBhZ2luYXRpb25QYXJhbWV0ZXJzID0gUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXI7XG5tb2R1bGUuZXhwb3J0cy5wYWdpbmF0ZVN1YkRvY3MgPSBwYWdpbmF0ZVN1YkRvY3NIZWxwZXI7XG5tb2R1bGUuZXhwb3J0cy5wYWdpbmF0ZSA9IHBhZ2luYXRlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mongoose-paginate-v2/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js":
/*!*************************************************************************!*\
  !*** ./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js ***!
  \*************************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PaginationParametersHelper = /*#__PURE__*/function () {\n  function PaginationParametersHelper(request) {\n    _classCallCheck(this, PaginationParametersHelper);\n\n    this.query = request.query;\n  }\n  /**\r\n   * Handle boolean options\r\n   * If the 'option'-Parameter is a string, check if it equals 'true'\r\n   * If not, it should be a boolean, and can be returned as it is.\r\n   *\r\n   * @param {string|boolean} option\r\n   * @return {boolean}\r\n   * */\n\n\n  _createClass(PaginationParametersHelper, [{\n    key: \"booleanOpt\",\n    value: function booleanOpt(option) {\n      return typeof option === 'string' ? option === 'true' : option;\n    }\n    /**\r\n     * Handle options that are strings or objects (including arrays)\r\n     *\r\n     * @param {object|string} option\r\n     * @return {object|string}\r\n     * */\n\n  }, {\n    key: \"optObjectOrString\",\n    value: function optObjectOrString(option) {\n      // Since the JSON in the query object will be strings,\n      // we need to be able to detect this, in order to differentiate between JSON-objects and pure strings.\n      // a pure string, e.g. 'field -test', might not be parsed as wished by JSON.parse\n      var openingBrackets = ['{', '['];\n      var closingBrackets = ['}', ']'];\n      var firstCharIsBracket = option[0] && openingBrackets.includes(option[0]);\n      var lastCharIsBracket = option[option.length - 1] && closingBrackets.includes(option[option.length - 1]);\n      var optionIsObject = firstCharIsBracket && lastCharIsBracket;\n\n      try {\n        return optionIsObject ? JSON.parse(option) : option;\n      } catch (err) {\n        // Fallback for parsing errors of objects\n        return {};\n      }\n    }\n    /**\r\n     * Yields the \"query\" parameter for Model.paginate()\r\n     * given any attributes of the Express req.query-Object,\r\n     * */\n\n  }, {\n    key: \"getQuery\",\n    value: function getQuery() {\n      var _this$query;\n\n      var filtersQueryParameter = (_this$query = this.query) === null || _this$query === void 0 ? void 0 : _this$query.query;\n      if (!filtersQueryParameter) return {};\n\n      try {\n        return JSON.parse(filtersQueryParameter);\n      } catch (err) {\n        return {};\n      }\n    }\n    /**\r\n     * Yields the \"options\" parameter for Model.paginate(),\r\n     * given any attributes of the Express req.query-Object\r\n     * */\n\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      if (!this.query) return {};\n      var options = {}; // Instantiate variables with all the possible options for Model.paginate()\n\n      var select = this.query.select,\n          collation = this.query.collation,\n          sort = this.query.sort,\n          populate = this.query.populate,\n          projection = this.query.projection,\n          lean = this.query.lean,\n          leanWithId = this.query.leanWithId,\n          offset = this.query.offset,\n          page = this.query.page,\n          limit = this.query.limit,\n          customLabels = this.query.customLabels,\n          pagination = this.query.pagination,\n          useEstimatedCount = this.query.useEstimatedCount,\n          useCustomCountFn = this.query.useCustomCountFn,\n          forceCountFn = this.query.forceCountFn,\n          allowDiskUse = this.query.allowDiskUse,\n          read = this.query.read,\n          mongooseOptions = this.query.options; // For every option that is set, add it to the 'options' object-literal\n\n      if (select) options['select'] = this.optObjectOrString(select);\n      if (collation) options['collation'] = this.optObjectOrString(collation);\n      if (sort) options['sort'] = this.optObjectOrString(sort);\n      if (populate) options['populate'] = this.optObjectOrString(populate);\n      if (projection !== undefined) options['projection'] = this.optObjectOrString(projection);\n      if (lean !== undefined) options['lean'] = this.booleanOpt(lean);\n      if (leanWithId !== undefined) options['leanWithId'] = this.booleanOpt(leanWithId);\n      if (offset) options['offset'] = Number(offset);\n      if (page) options['page'] = Number(page);\n      if (limit) options['limit'] = Number(limit);\n      if (customLabels) options['customLabels'] = this.optObjectOrString(customLabels);\n      if (pagination !== undefined) options['pagination'] = this.booleanOpt(pagination);\n      if (useEstimatedCount !== undefined) options['useEstimatedCount'] = this.booleanOpt(useEstimatedCount);\n      if (useCustomCountFn !== undefined) options['useCustomCountFn'] = this.booleanOpt(useCustomCountFn);\n      if (forceCountFn !== undefined) options['forceCountFn'] = this.booleanOpt(forceCountFn);\n      if (allowDiskUse) options['allowDiskUse'] = this.booleanOpt(allowDiskUse);\n      if (read) options['read'] = this.optObjectOrString(read);\n      if (mongooseOptions) options['options'] = this.getOptions(mongooseOptions);\n      return options;\n    }\n    /**\r\n     * Yields an array with positions:\r\n     * [0] \"query\" parameter, for Model.paginate()\r\n     * [1] \"options\" parameter, for Model.paginate()\r\n     * */\n\n  }, {\n    key: \"get\",\n    value: function get() {\n      return [_objectSpread({}, this.getQuery()), _objectSpread({}, this.getOptions())];\n    }\n  }]);\n\n  return PaginationParametersHelper;\n}();\n\nmodule.exports = PaginationParametersHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXBhcmFtZXRlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELHNCQUFzQiwwQ0FBMEMsaUVBQWlFLEtBQUssa0NBQWtDOztBQUUzVSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCxhQUFhLHVEQUF1RCw0Q0FBNEMsS0FBSyw2Q0FBNkMsNkVBQTZFLE9BQU8saURBQWlELG1GQUFtRixPQUFPOztBQUV0Z0IsNENBQTRDLGtCQUFrQixrQ0FBa0Msb0VBQW9FLEtBQUssT0FBTyxvQkFBb0I7O0FBRXBNLGtEQUFrRCwwQ0FBMEM7O0FBRTVGLDRDQUE0QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVEOztBQUUvUCw4REFBOEQsc0VBQXNFLDhEQUE4RDs7QUFFbE07QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0IsY0FBYztBQUNkOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGdCQUFnQjtBQUNoQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDhCQUE4QixvQ0FBb0M7QUFDbEU7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnJlLWxhYi1zaXRlLy4vbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvcGFnaW5hdGlvbi1wYXJhbWV0ZXJzLmpzP2MzZTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlcihyZXF1ZXN0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyKTtcblxuICAgIHRoaXMucXVlcnkgPSByZXF1ZXN0LnF1ZXJ5O1xuICB9XG4gIC8qKlxyXG4gICAqIEhhbmRsZSBib29sZWFuIG9wdGlvbnNcclxuICAgKiBJZiB0aGUgJ29wdGlvbictUGFyYW1ldGVyIGlzIGEgc3RyaW5nLCBjaGVjayBpZiBpdCBlcXVhbHMgJ3RydWUnXHJcbiAgICogSWYgbm90LCBpdCBzaG91bGQgYmUgYSBib29sZWFuLCBhbmQgY2FuIGJlIHJldHVybmVkIGFzIGl0IGlzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gb3B0aW9uXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgKiAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyLCBbe1xuICAgIGtleTogXCJib29sZWFuT3B0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJvb2xlYW5PcHQob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycgPyBvcHRpb24gPT09ICd0cnVlJyA6IG9wdGlvbjtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgb3B0aW9ucyB0aGF0IGFyZSBzdHJpbmdzIG9yIG9iamVjdHMgKGluY2x1ZGluZyBhcnJheXMpXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtvYmplY3R8c3RyaW5nfSBvcHRpb25cclxuICAgICAqIEByZXR1cm4ge29iamVjdHxzdHJpbmd9XHJcbiAgICAgKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib3B0T2JqZWN0T3JTdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3B0T2JqZWN0T3JTdHJpbmcob3B0aW9uKSB7XG4gICAgICAvLyBTaW5jZSB0aGUgSlNPTiBpbiB0aGUgcXVlcnkgb2JqZWN0IHdpbGwgYmUgc3RyaW5ncyxcbiAgICAgIC8vIHdlIG5lZWQgdG8gYmUgYWJsZSB0byBkZXRlY3QgdGhpcywgaW4gb3JkZXIgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIEpTT04tb2JqZWN0cyBhbmQgcHVyZSBzdHJpbmdzLlxuICAgICAgLy8gYSBwdXJlIHN0cmluZywgZS5nLiAnZmllbGQgLXRlc3QnLCBtaWdodCBub3QgYmUgcGFyc2VkIGFzIHdpc2hlZCBieSBKU09OLnBhcnNlXG4gICAgICB2YXIgb3BlbmluZ0JyYWNrZXRzID0gWyd7JywgJ1snXTtcbiAgICAgIHZhciBjbG9zaW5nQnJhY2tldHMgPSBbJ30nLCAnXSddO1xuICAgICAgdmFyIGZpcnN0Q2hhcklzQnJhY2tldCA9IG9wdGlvblswXSAmJiBvcGVuaW5nQnJhY2tldHMuaW5jbHVkZXMob3B0aW9uWzBdKTtcbiAgICAgIHZhciBsYXN0Q2hhcklzQnJhY2tldCA9IG9wdGlvbltvcHRpb24ubGVuZ3RoIC0gMV0gJiYgY2xvc2luZ0JyYWNrZXRzLmluY2x1ZGVzKG9wdGlvbltvcHRpb24ubGVuZ3RoIC0gMV0pO1xuICAgICAgdmFyIG9wdGlvbklzT2JqZWN0ID0gZmlyc3RDaGFySXNCcmFja2V0ICYmIGxhc3RDaGFySXNCcmFja2V0O1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gb3B0aW9uSXNPYmplY3QgPyBKU09OLnBhcnNlKG9wdGlvbikgOiBvcHRpb247XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgZm9yIHBhcnNpbmcgZXJyb3JzIG9mIG9iamVjdHNcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcclxuICAgICAqIFlpZWxkcyB0aGUgXCJxdWVyeVwiIHBhcmFtZXRlciBmb3IgTW9kZWwucGFnaW5hdGUoKVxyXG4gICAgICogZ2l2ZW4gYW55IGF0dHJpYnV0ZXMgb2YgdGhlIEV4cHJlc3MgcmVxLnF1ZXJ5LU9iamVjdCxcclxuICAgICAqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRRdWVyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRRdWVyeSgpIHtcbiAgICAgIHZhciBfdGhpcyRxdWVyeTtcblxuICAgICAgdmFyIGZpbHRlcnNRdWVyeVBhcmFtZXRlciA9IChfdGhpcyRxdWVyeSA9IHRoaXMucXVlcnkpID09PSBudWxsIHx8IF90aGlzJHF1ZXJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRxdWVyeS5xdWVyeTtcbiAgICAgIGlmICghZmlsdGVyc1F1ZXJ5UGFyYW1ldGVyKSByZXR1cm4ge307XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGZpbHRlcnNRdWVyeVBhcmFtZXRlcik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcclxuICAgICAqIFlpZWxkcyB0aGUgXCJvcHRpb25zXCIgcGFyYW1ldGVyIGZvciBNb2RlbC5wYWdpbmF0ZSgpLFxyXG4gICAgICogZ2l2ZW4gYW55IGF0dHJpYnV0ZXMgb2YgdGhlIEV4cHJlc3MgcmVxLnF1ZXJ5LU9iamVjdFxyXG4gICAgICogKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldE9wdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICAgIGlmICghdGhpcy5xdWVyeSkgcmV0dXJuIHt9O1xuICAgICAgdmFyIG9wdGlvbnMgPSB7fTsgLy8gSW5zdGFudGlhdGUgdmFyaWFibGVzIHdpdGggYWxsIHRoZSBwb3NzaWJsZSBvcHRpb25zIGZvciBNb2RlbC5wYWdpbmF0ZSgpXG5cbiAgICAgIHZhciBzZWxlY3QgPSB0aGlzLnF1ZXJ5LnNlbGVjdCxcbiAgICAgICAgICBjb2xsYXRpb24gPSB0aGlzLnF1ZXJ5LmNvbGxhdGlvbixcbiAgICAgICAgICBzb3J0ID0gdGhpcy5xdWVyeS5zb3J0LFxuICAgICAgICAgIHBvcHVsYXRlID0gdGhpcy5xdWVyeS5wb3B1bGF0ZSxcbiAgICAgICAgICBwcm9qZWN0aW9uID0gdGhpcy5xdWVyeS5wcm9qZWN0aW9uLFxuICAgICAgICAgIGxlYW4gPSB0aGlzLnF1ZXJ5LmxlYW4sXG4gICAgICAgICAgbGVhbldpdGhJZCA9IHRoaXMucXVlcnkubGVhbldpdGhJZCxcbiAgICAgICAgICBvZmZzZXQgPSB0aGlzLnF1ZXJ5Lm9mZnNldCxcbiAgICAgICAgICBwYWdlID0gdGhpcy5xdWVyeS5wYWdlLFxuICAgICAgICAgIGxpbWl0ID0gdGhpcy5xdWVyeS5saW1pdCxcbiAgICAgICAgICBjdXN0b21MYWJlbHMgPSB0aGlzLnF1ZXJ5LmN1c3RvbUxhYmVscyxcbiAgICAgICAgICBwYWdpbmF0aW9uID0gdGhpcy5xdWVyeS5wYWdpbmF0aW9uLFxuICAgICAgICAgIHVzZUVzdGltYXRlZENvdW50ID0gdGhpcy5xdWVyeS51c2VFc3RpbWF0ZWRDb3VudCxcbiAgICAgICAgICB1c2VDdXN0b21Db3VudEZuID0gdGhpcy5xdWVyeS51c2VDdXN0b21Db3VudEZuLFxuICAgICAgICAgIGZvcmNlQ291bnRGbiA9IHRoaXMucXVlcnkuZm9yY2VDb3VudEZuLFxuICAgICAgICAgIGFsbG93RGlza1VzZSA9IHRoaXMucXVlcnkuYWxsb3dEaXNrVXNlLFxuICAgICAgICAgIHJlYWQgPSB0aGlzLnF1ZXJ5LnJlYWQsXG4gICAgICAgICAgbW9uZ29vc2VPcHRpb25zID0gdGhpcy5xdWVyeS5vcHRpb25zOyAvLyBGb3IgZXZlcnkgb3B0aW9uIHRoYXQgaXMgc2V0LCBhZGQgaXQgdG8gdGhlICdvcHRpb25zJyBvYmplY3QtbGl0ZXJhbFxuXG4gICAgICBpZiAoc2VsZWN0KSBvcHRpb25zWydzZWxlY3QnXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcoc2VsZWN0KTtcbiAgICAgIGlmIChjb2xsYXRpb24pIG9wdGlvbnNbJ2NvbGxhdGlvbiddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhjb2xsYXRpb24pO1xuICAgICAgaWYgKHNvcnQpIG9wdGlvbnNbJ3NvcnQnXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcoc29ydCk7XG4gICAgICBpZiAocG9wdWxhdGUpIG9wdGlvbnNbJ3BvcHVsYXRlJ10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKHBvcHVsYXRlKTtcbiAgICAgIGlmIChwcm9qZWN0aW9uICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3Byb2plY3Rpb24nXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcocHJvamVjdGlvbik7XG4gICAgICBpZiAobGVhbiAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWydsZWFuJ10gPSB0aGlzLmJvb2xlYW5PcHQobGVhbik7XG4gICAgICBpZiAobGVhbldpdGhJZCAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWydsZWFuV2l0aElkJ10gPSB0aGlzLmJvb2xlYW5PcHQobGVhbldpdGhJZCk7XG4gICAgICBpZiAob2Zmc2V0KSBvcHRpb25zWydvZmZzZXQnXSA9IE51bWJlcihvZmZzZXQpO1xuICAgICAgaWYgKHBhZ2UpIG9wdGlvbnNbJ3BhZ2UnXSA9IE51bWJlcihwYWdlKTtcbiAgICAgIGlmIChsaW1pdCkgb3B0aW9uc1snbGltaXQnXSA9IE51bWJlcihsaW1pdCk7XG4gICAgICBpZiAoY3VzdG9tTGFiZWxzKSBvcHRpb25zWydjdXN0b21MYWJlbHMnXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcoY3VzdG9tTGFiZWxzKTtcbiAgICAgIGlmIChwYWdpbmF0aW9uICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3BhZ2luYXRpb24nXSA9IHRoaXMuYm9vbGVhbk9wdChwYWdpbmF0aW9uKTtcbiAgICAgIGlmICh1c2VFc3RpbWF0ZWRDb3VudCAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWyd1c2VFc3RpbWF0ZWRDb3VudCddID0gdGhpcy5ib29sZWFuT3B0KHVzZUVzdGltYXRlZENvdW50KTtcbiAgICAgIGlmICh1c2VDdXN0b21Db3VudEZuICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3VzZUN1c3RvbUNvdW50Rm4nXSA9IHRoaXMuYm9vbGVhbk9wdCh1c2VDdXN0b21Db3VudEZuKTtcbiAgICAgIGlmIChmb3JjZUNvdW50Rm4gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1snZm9yY2VDb3VudEZuJ10gPSB0aGlzLmJvb2xlYW5PcHQoZm9yY2VDb3VudEZuKTtcbiAgICAgIGlmIChhbGxvd0Rpc2tVc2UpIG9wdGlvbnNbJ2FsbG93RGlza1VzZSddID0gdGhpcy5ib29sZWFuT3B0KGFsbG93RGlza1VzZSk7XG4gICAgICBpZiAocmVhZCkgb3B0aW9uc1sncmVhZCddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhyZWFkKTtcbiAgICAgIGlmIChtb25nb29zZU9wdGlvbnMpIG9wdGlvbnNbJ29wdGlvbnMnXSA9IHRoaXMuZ2V0T3B0aW9ucyhtb25nb29zZU9wdGlvbnMpO1xuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogWWllbGRzIGFuIGFycmF5IHdpdGggcG9zaXRpb25zOlxyXG4gICAgICogWzBdIFwicXVlcnlcIiBwYXJhbWV0ZXIsIGZvciBNb2RlbC5wYWdpbmF0ZSgpXHJcbiAgICAgKiBbMV0gXCJvcHRpb25zXCIgcGFyYW1ldGVyLCBmb3IgTW9kZWwucGFnaW5hdGUoKVxyXG4gICAgICogKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gW19vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0UXVlcnkoKSksIF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0T3B0aW9ucygpKV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js":
/*!**********************************************************************!*\
  !*** ./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * Pagination process for sub-documents\r\n * internally, it would call `query.findOne`, return only one document\r\n *\r\n * @param {Object} query\r\n * @param {Object} options\r\n * @param {Function} callback\r\n */\nfunction paginateSubDocs(query, options, callback) {\n  /**\r\n   * Populate sub documents with pagination fields\r\n   *\r\n   * @param {Object} query\r\n   * @param {Object} populate origin populate option\r\n   * @param {Object} option\r\n   */\n  function getSubDocsPopulate(option) {\n    // options properties for sub-documents pagination\n    var populate = option.populate,\n        _option$page = option.page,\n        page = _option$page === void 0 ? 1 : _option$page,\n        _option$limit = option.limit,\n        limit = _option$limit === void 0 ? 10 : _option$limit;\n\n    if (!populate) {\n      throw new Error('populate is required');\n    }\n\n    var offset = (page - 1) * limit;\n    option.offset = offset;\n    var pagination = {\n      skip: offset,\n      limit: limit\n    };\n\n    if (typeof populate === 'string') {\n      populate = _objectSpread({\n        path: populate\n      }, pagination);\n    } else if (typeof populate === 'object' && !Array.isArray(populate)) {\n      populate = Object.assign(populate, pagination);\n    }\n\n    option.populate = populate;\n    return populate;\n  }\n\n  function populateResult(result, populate, callback) {\n    return result.populate(populate, callback);\n  }\n  /**\r\n   * Convert result of sub-docs list to pagination like docs\r\n   *\r\n   * @param {Object} result query result\r\n   * @param {Object} option pagination option\r\n   */\n\n\n  function constructDocs(paginatedResult, option) {\n    var populate = option.populate,\n        _option$offset = option.offset,\n        offset = _option$offset === void 0 ? 0 : _option$offset,\n        _option$page2 = option.page,\n        page = _option$page2 === void 0 ? 1 : _option$page2,\n        _option$limit2 = option.limit,\n        limit = _option$limit2 === void 0 ? 10 : _option$limit2;\n    var path = populate.path;\n    var count = option.count;\n    var paginatedDocs = paginatedResult[path];\n\n    if (!paginatedDocs) {\n      throw new Error(`Parse error! Cannot find key on result with path ${path}`);\n    }\n\n    page = Math.ceil((offset + 1) / limit); // set default meta\n\n    var meta = {\n      docs: paginatedDocs,\n      totalDocs: count || 1,\n      limit: limit,\n      page: page,\n      prevPage: null,\n      nextPage: null,\n      hasPrevPage: false,\n      hasNextPage: false\n    };\n    var totalPages = limit > 0 ? Math.ceil(count / limit) || 1 : null;\n    meta.totalPages = totalPages;\n    meta.pagingCounter = (page - 1) * limit + 1; // Set prev page\n\n    if (page > 1) {\n      meta.hasPrevPage = true;\n      meta.prevPage = page - 1;\n    } else if (page == 1 && offset !== 0) {\n      meta.hasPrevPage = true;\n      meta.prevPage = 1;\n    } // Set next page\n\n\n    if (page < totalPages) {\n      meta.hasNextPage = true;\n      meta.nextPage = page + 1;\n    }\n\n    if (limit == 0) {\n      meta.limit = 0;\n      meta.totalPages = 1;\n      meta.page = 1;\n      meta.pagingCounter = 1;\n    }\n\n    Object.defineProperty(paginatedResult, path, {\n      value: meta,\n      writable: false\n    });\n  } // options properties for main document query\n\n\n  var populate = options.populate,\n      _options$read = options.read,\n      read = _options$read === void 0 ? {} : _options$read,\n      _options$select = options.select,\n      select = _options$select === void 0 ? '' : _options$select,\n      _options$pagination = options.pagination,\n      pagination = _options$pagination === void 0 ? true : _options$pagination,\n      pagingOptions = options.pagingOptions,\n      projection = options.projection;\n  var mQuery = this.findOne(query, projection);\n\n  if (read && read.pref) {\n    /**\r\n     * Determines the MongoDB nodes from which to read.\r\n     * @param read.pref one of the listed preference options or aliases\r\n     * @param read.tags optional tags for this query\r\n     */\n    mQuery.read(read.pref, read.tags);\n  }\n\n  if (select) {\n    mQuery.select(select);\n  }\n\n  return new Promise(function (resolve, reject) {\n    mQuery.exec().then(function (result) {\n      var newPopulate = [];\n\n      if (populate) {\n        newPopulate.push(newPopulate);\n      }\n\n      if (pagination && pagingOptions) {\n        if (Array.isArray(pagingOptions)) {\n          pagingOptions.forEach(function (option) {\n            var populate = getSubDocsPopulate(option);\n            option.count = result[populate.path].length;\n            newPopulate.push(populate);\n          });\n        } else {\n          var _populate = getSubDocsPopulate(pagingOptions);\n\n          pagingOptions.count = result[_populate.path].length;\n          newPopulate.push(_populate);\n        }\n      }\n\n      populateResult(result, newPopulate, function (err, paginatedResult) {\n        if (err) {\n          callback(err, null);\n          reject(err);\n          return;\n        } // convert paginatedResult to pagination docs\n\n\n        if (pagination && pagingOptions) {\n          if (Array.isArray(pagingOptions)) {\n            pagingOptions.forEach(function (option) {\n              constructDocs(paginatedResult, option);\n            });\n          } else {\n            constructDocs(paginatedResult, pagingOptions);\n          }\n        }\n\n        callback && callback(null, paginatedResult);\n        resolve(paginatedResult);\n      });\n    }).catch(function (err) {\n      console.error(err.message);\n      callback && callback(err, null);\n    });\n  });\n}\n\nmodule.exports = paginateSubDocs;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXN1YmRvY3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELHNCQUFzQiwwQ0FBMEMsaUVBQWlFLEtBQUssa0NBQWtDOztBQUUzVSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCxhQUFhLHVEQUF1RCw0Q0FBNEMsS0FBSyw2Q0FBNkMsNkVBQTZFLE9BQU8saURBQWlELG1GQUFtRixPQUFPOztBQUV0Z0IsNENBQTRDLGtCQUFrQixrQ0FBa0Msb0VBQW9FLEtBQUssT0FBTyxvQkFBb0I7O0FBRXBNO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwRUFBMEUsS0FBSztBQUMvRTs7QUFFQSw0Q0FBNEM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7OztBQUdKO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VycmUtbGFiLXNpdGUvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXN1YmRvY3MuanM/OTdhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vKipcclxuICogUGFnaW5hdGlvbiBwcm9jZXNzIGZvciBzdWItZG9jdW1lbnRzXHJcbiAqIGludGVybmFsbHksIGl0IHdvdWxkIGNhbGwgYHF1ZXJ5LmZpbmRPbmVgLCByZXR1cm4gb25seSBvbmUgZG9jdW1lbnRcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqL1xuZnVuY3Rpb24gcGFnaW5hdGVTdWJEb2NzKHF1ZXJ5LCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAvKipcclxuICAgKiBQb3B1bGF0ZSBzdWIgZG9jdW1lbnRzIHdpdGggcGFnaW5hdGlvbiBmaWVsZHNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb3B1bGF0ZSBvcmlnaW4gcG9wdWxhdGUgb3B0aW9uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvblxyXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdWJEb2NzUG9wdWxhdGUob3B0aW9uKSB7XG4gICAgLy8gb3B0aW9ucyBwcm9wZXJ0aWVzIGZvciBzdWItZG9jdW1lbnRzIHBhZ2luYXRpb25cbiAgICB2YXIgcG9wdWxhdGUgPSBvcHRpb24ucG9wdWxhdGUsXG4gICAgICAgIF9vcHRpb24kcGFnZSA9IG9wdGlvbi5wYWdlLFxuICAgICAgICBwYWdlID0gX29wdGlvbiRwYWdlID09PSB2b2lkIDAgPyAxIDogX29wdGlvbiRwYWdlLFxuICAgICAgICBfb3B0aW9uJGxpbWl0ID0gb3B0aW9uLmxpbWl0LFxuICAgICAgICBsaW1pdCA9IF9vcHRpb24kbGltaXQgPT09IHZvaWQgMCA/IDEwIDogX29wdGlvbiRsaW1pdDtcblxuICAgIGlmICghcG9wdWxhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncG9wdWxhdGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xuICAgIG9wdGlvbi5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgdmFyIHBhZ2luYXRpb24gPSB7XG4gICAgICBza2lwOiBvZmZzZXQsXG4gICAgICBsaW1pdDogbGltaXRcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBwb3B1bGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBvcHVsYXRlID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgIHBhdGg6IHBvcHVsYXRlXG4gICAgICB9LCBwYWdpbmF0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwb3B1bGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkocG9wdWxhdGUpKSB7XG4gICAgICBwb3B1bGF0ZSA9IE9iamVjdC5hc3NpZ24ocG9wdWxhdGUsIHBhZ2luYXRpb24pO1xuICAgIH1cblxuICAgIG9wdGlvbi5wb3B1bGF0ZSA9IHBvcHVsYXRlO1xuICAgIHJldHVybiBwb3B1bGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcHVsYXRlUmVzdWx0KHJlc3VsdCwgcG9wdWxhdGUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHJlc3VsdC5wb3B1bGF0ZShwb3B1bGF0ZSwgY2FsbGJhY2spO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgcmVzdWx0IG9mIHN1Yi1kb2NzIGxpc3QgdG8gcGFnaW5hdGlvbiBsaWtlIGRvY3NcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXN1bHQgcXVlcnkgcmVzdWx0XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiBwYWdpbmF0aW9uIG9wdGlvblxyXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY29uc3RydWN0RG9jcyhwYWdpbmF0ZWRSZXN1bHQsIG9wdGlvbikge1xuICAgIHZhciBwb3B1bGF0ZSA9IG9wdGlvbi5wb3B1bGF0ZSxcbiAgICAgICAgX29wdGlvbiRvZmZzZXQgPSBvcHRpb24ub2Zmc2V0LFxuICAgICAgICBvZmZzZXQgPSBfb3B0aW9uJG9mZnNldCA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb24kb2Zmc2V0LFxuICAgICAgICBfb3B0aW9uJHBhZ2UyID0gb3B0aW9uLnBhZ2UsXG4gICAgICAgIHBhZ2UgPSBfb3B0aW9uJHBhZ2UyID09PSB2b2lkIDAgPyAxIDogX29wdGlvbiRwYWdlMixcbiAgICAgICAgX29wdGlvbiRsaW1pdDIgPSBvcHRpb24ubGltaXQsXG4gICAgICAgIGxpbWl0ID0gX29wdGlvbiRsaW1pdDIgPT09IHZvaWQgMCA/IDEwIDogX29wdGlvbiRsaW1pdDI7XG4gICAgdmFyIHBhdGggPSBwb3B1bGF0ZS5wYXRoO1xuICAgIHZhciBjb3VudCA9IG9wdGlvbi5jb3VudDtcbiAgICB2YXIgcGFnaW5hdGVkRG9jcyA9IHBhZ2luYXRlZFJlc3VsdFtwYXRoXTtcblxuICAgIGlmICghcGFnaW5hdGVkRG9jcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJzZSBlcnJvciEgQ2Fubm90IGZpbmQga2V5IG9uIHJlc3VsdCB3aXRoIHBhdGggJHtwYXRofWApO1xuICAgIH1cblxuICAgIHBhZ2UgPSBNYXRoLmNlaWwoKG9mZnNldCArIDEpIC8gbGltaXQpOyAvLyBzZXQgZGVmYXVsdCBtZXRhXG5cbiAgICB2YXIgbWV0YSA9IHtcbiAgICAgIGRvY3M6IHBhZ2luYXRlZERvY3MsXG4gICAgICB0b3RhbERvY3M6IGNvdW50IHx8IDEsXG4gICAgICBsaW1pdDogbGltaXQsXG4gICAgICBwYWdlOiBwYWdlLFxuICAgICAgcHJldlBhZ2U6IG51bGwsXG4gICAgICBuZXh0UGFnZTogbnVsbCxcbiAgICAgIGhhc1ByZXZQYWdlOiBmYWxzZSxcbiAgICAgIGhhc05leHRQYWdlOiBmYWxzZVxuICAgIH07XG4gICAgdmFyIHRvdGFsUGFnZXMgPSBsaW1pdCA+IDAgPyBNYXRoLmNlaWwoY291bnQgLyBsaW1pdCkgfHwgMSA6IG51bGw7XG4gICAgbWV0YS50b3RhbFBhZ2VzID0gdG90YWxQYWdlcztcbiAgICBtZXRhLnBhZ2luZ0NvdW50ZXIgPSAocGFnZSAtIDEpICogbGltaXQgKyAxOyAvLyBTZXQgcHJldiBwYWdlXG5cbiAgICBpZiAocGFnZSA+IDEpIHtcbiAgICAgIG1ldGEuaGFzUHJldlBhZ2UgPSB0cnVlO1xuICAgICAgbWV0YS5wcmV2UGFnZSA9IHBhZ2UgLSAxO1xuICAgIH0gZWxzZSBpZiAocGFnZSA9PSAxICYmIG9mZnNldCAhPT0gMCkge1xuICAgICAgbWV0YS5oYXNQcmV2UGFnZSA9IHRydWU7XG4gICAgICBtZXRhLnByZXZQYWdlID0gMTtcbiAgICB9IC8vIFNldCBuZXh0IHBhZ2VcblxuXG4gICAgaWYgKHBhZ2UgPCB0b3RhbFBhZ2VzKSB7XG4gICAgICBtZXRhLmhhc05leHRQYWdlID0gdHJ1ZTtcbiAgICAgIG1ldGEubmV4dFBhZ2UgPSBwYWdlICsgMTtcbiAgICB9XG5cbiAgICBpZiAobGltaXQgPT0gMCkge1xuICAgICAgbWV0YS5saW1pdCA9IDA7XG4gICAgICBtZXRhLnRvdGFsUGFnZXMgPSAxO1xuICAgICAgbWV0YS5wYWdlID0gMTtcbiAgICAgIG1ldGEucGFnaW5nQ291bnRlciA9IDE7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhZ2luYXRlZFJlc3VsdCwgcGF0aCwge1xuICAgICAgdmFsdWU6IG1ldGEsXG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfSAvLyBvcHRpb25zIHByb3BlcnRpZXMgZm9yIG1haW4gZG9jdW1lbnQgcXVlcnlcblxuXG4gIHZhciBwb3B1bGF0ZSA9IG9wdGlvbnMucG9wdWxhdGUsXG4gICAgICBfb3B0aW9ucyRyZWFkID0gb3B0aW9ucy5yZWFkLFxuICAgICAgcmVhZCA9IF9vcHRpb25zJHJlYWQgPT09IHZvaWQgMCA/IHt9IDogX29wdGlvbnMkcmVhZCxcbiAgICAgIF9vcHRpb25zJHNlbGVjdCA9IG9wdGlvbnMuc2VsZWN0LFxuICAgICAgc2VsZWN0ID0gX29wdGlvbnMkc2VsZWN0ID09PSB2b2lkIDAgPyAnJyA6IF9vcHRpb25zJHNlbGVjdCxcbiAgICAgIF9vcHRpb25zJHBhZ2luYXRpb24gPSBvcHRpb25zLnBhZ2luYXRpb24sXG4gICAgICBwYWdpbmF0aW9uID0gX29wdGlvbnMkcGFnaW5hdGlvbiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHBhZ2luYXRpb24sXG4gICAgICBwYWdpbmdPcHRpb25zID0gb3B0aW9ucy5wYWdpbmdPcHRpb25zLFxuICAgICAgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbjtcbiAgdmFyIG1RdWVyeSA9IHRoaXMuZmluZE9uZShxdWVyeSwgcHJvamVjdGlvbik7XG5cbiAgaWYgKHJlYWQgJiYgcmVhZC5wcmVmKSB7XG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBNb25nb0RCIG5vZGVzIGZyb20gd2hpY2ggdG8gcmVhZC5cclxuICAgICAqIEBwYXJhbSByZWFkLnByZWYgb25lIG9mIHRoZSBsaXN0ZWQgcHJlZmVyZW5jZSBvcHRpb25zIG9yIGFsaWFzZXNcclxuICAgICAqIEBwYXJhbSByZWFkLnRhZ3Mgb3B0aW9uYWwgdGFncyBmb3IgdGhpcyBxdWVyeVxyXG4gICAgICovXG4gICAgbVF1ZXJ5LnJlYWQocmVhZC5wcmVmLCByZWFkLnRhZ3MpO1xuICB9XG5cbiAgaWYgKHNlbGVjdCkge1xuICAgIG1RdWVyeS5zZWxlY3Qoc2VsZWN0KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbVF1ZXJ5LmV4ZWMoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHZhciBuZXdQb3B1bGF0ZSA9IFtdO1xuXG4gICAgICBpZiAocG9wdWxhdGUpIHtcbiAgICAgICAgbmV3UG9wdWxhdGUucHVzaChuZXdQb3B1bGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdpbmF0aW9uICYmIHBhZ2luZ09wdGlvbnMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFnaW5nT3B0aW9ucykpIHtcbiAgICAgICAgICBwYWdpbmdPcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgdmFyIHBvcHVsYXRlID0gZ2V0U3ViRG9jc1BvcHVsYXRlKG9wdGlvbik7XG4gICAgICAgICAgICBvcHRpb24uY291bnQgPSByZXN1bHRbcG9wdWxhdGUucGF0aF0ubGVuZ3RoO1xuICAgICAgICAgICAgbmV3UG9wdWxhdGUucHVzaChwb3B1bGF0ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9wb3B1bGF0ZSA9IGdldFN1YkRvY3NQb3B1bGF0ZShwYWdpbmdPcHRpb25zKTtcblxuICAgICAgICAgIHBhZ2luZ09wdGlvbnMuY291bnQgPSByZXN1bHRbX3BvcHVsYXRlLnBhdGhdLmxlbmd0aDtcbiAgICAgICAgICBuZXdQb3B1bGF0ZS5wdXNoKF9wb3B1bGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcG9wdWxhdGVSZXN1bHQocmVzdWx0LCBuZXdQb3B1bGF0ZSwgZnVuY3Rpb24gKGVyciwgcGFnaW5hdGVkUmVzdWx0KSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBjb252ZXJ0IHBhZ2luYXRlZFJlc3VsdCB0byBwYWdpbmF0aW9uIGRvY3NcblxuXG4gICAgICAgIGlmIChwYWdpbmF0aW9uICYmIHBhZ2luZ09wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYWdpbmdPcHRpb25zKSkge1xuICAgICAgICAgICAgcGFnaW5nT3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgY29uc3RydWN0RG9jcyhwYWdpbmF0ZWRSZXN1bHQsIG9wdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3RydWN0RG9jcyhwYWdpbmF0ZWRSZXN1bHQsIHBhZ2luZ09wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG51bGwsIHBhZ2luYXRlZFJlc3VsdCk7XG4gICAgICAgIHJlc29sdmUocGFnaW5hdGVkUmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFnaW5hdGVTdWJEb2NzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\n");

/***/ })

};
;