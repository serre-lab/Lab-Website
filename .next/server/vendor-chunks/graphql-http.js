"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/graphql-http";
exports.ids = ["vendor-chunks/graphql-http"];
exports.modules = {

/***/ "(rsc)/./node_modules/graphql-http/lib/handler.mjs":
/*!***************************************************!*\
  !*** ./node_modules/graphql-http/lib/handler.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandler: () => (/* binding */ createHandler),\n/* harmony export */   parseRequestParams: () => (/* binding */ parseRequestParams)\n/* harmony export */ });\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql */ \"graphql\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.mjs */ \"(rsc)/./node_modules/graphql-http/lib/utils.mjs\");\n/**\n *\n * handler\n *\n */\n\n\n/** Checks whether the passed value is the `graphql-http` server agnostic response. */\nfunction isResponse(val) {\n    // TODO: make sure the contents of init match ResponseInit\n    return (Array.isArray(val) &&\n        (typeof val[0] === 'string' || val[0] === null) &&\n        (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isObject)(val[1]));\n}\n/**\n * The GraphQL over HTTP spec compliant request parser for an incoming GraphQL request.\n * It parses and validates the request itself, including the request method and the\n * content-type of the body.\n *\n * If the HTTP request itself is invalid or malformed, the function will return an\n * appropriate {@link Response}.\n *\n * If the HTTP request is valid, but is not a well-formatted GraphQL request, the\n * function will throw an error and it is up to the user to handle and respond as\n * they see fit.\n *\n * @category Server\n */\nasync function parseRequestParams(req) {\n    var _a, _b;\n    const method = req.method;\n    if (method !== 'GET' && method !== 'POST') {\n        return [\n            null,\n            {\n                status: 405,\n                statusText: 'Method Not Allowed',\n                headers: {\n                    allow: 'GET, POST',\n                },\n            },\n        ];\n    }\n    const [mediaType, charset = 'charset=utf-8', // utf-8 is assumed when not specified. this parameter is either \"charset\" or \"boundary\" (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length)\n    ] = (getHeader(req, 'content-type') || '')\n        .replace(/\\s/g, '')\n        .toLowerCase()\n        .split(';');\n    const partParams = {};\n    switch (true) {\n        case method === 'GET': {\n            // TODO: what if content-type is specified and is not application/x-www-form-urlencoded?\n            try {\n                const [, search] = req.url.split('?');\n                const searchParams = new URLSearchParams(search);\n                partParams.operationName =\n                    (_a = searchParams.get('operationName')) !== null && _a !== void 0 ? _a : undefined;\n                partParams.query = (_b = searchParams.get('query')) !== null && _b !== void 0 ? _b : undefined;\n                const variables = searchParams.get('variables');\n                if (variables)\n                    partParams.variables = JSON.parse(variables);\n                const extensions = searchParams.get('extensions');\n                if (extensions)\n                    partParams.extensions = JSON.parse(extensions);\n            }\n            catch (_c) {\n                throw new Error('Unparsable URL');\n            }\n            break;\n        }\n        case method === 'POST' &&\n            mediaType === 'application/json' &&\n            charset === 'charset=utf-8':\n            {\n                if (!req.body) {\n                    throw new Error('Missing body');\n                }\n                let data;\n                try {\n                    const body = typeof req.body === 'function' ? await req.body() : req.body;\n                    data = typeof body === 'string' ? JSON.parse(body) : body;\n                }\n                catch (err) {\n                    throw new Error('Unparsable JSON body');\n                }\n                if (!(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isObject)(data)) {\n                    throw new Error('JSON body must be an object');\n                }\n                partParams.operationName = data.operationName;\n                partParams.query = data.query;\n                partParams.variables = data.variables;\n                partParams.extensions = data.extensions;\n                break;\n            }\n        default: // graphql-http doesnt support any other content type\n            return [\n                null,\n                {\n                    status: 415,\n                    statusText: 'Unsupported Media Type',\n                },\n            ];\n    }\n    if (partParams.query == null)\n        throw new Error('Missing query');\n    if (typeof partParams.query !== 'string')\n        throw new Error('Invalid query');\n    if (partParams.variables != null &&\n        (typeof partParams.variables !== 'object' ||\n            Array.isArray(partParams.variables))) {\n        throw new Error('Invalid variables');\n    }\n    if (partParams.operationName != null &&\n        typeof partParams.operationName !== 'string') {\n        throw new Error('Invalid operationName');\n    }\n    if (partParams.extensions != null &&\n        (typeof partParams.extensions !== 'object' ||\n            Array.isArray(partParams.extensions))) {\n        throw new Error('Invalid extensions');\n    }\n    // request parameters are checked and now complete\n    return partParams;\n}\n/**\n * Makes a GraphQL over HTTP spec compliant server handler. The handler can\n * be used with your favorite server library.\n *\n * Beware that the handler resolves only after the whole operation completes.\n *\n * Errors thrown from **any** of the provided options or callbacks (or even due to\n * library misuse or potential bugs) will reject the handler's promise. They are\n * considered internal errors and you should take care of them accordingly.\n *\n * For production environments, its recommended not to transmit the exact internal\n * error details to the client, but instead report to an error logging tool or simply\n * the console.\n *\n * Simple example usage with Node:\n *\n * ```js\n * import http from 'http';\n * import { createHandler } from 'graphql-http';\n * import { schema } from './my-graphql-schema/index.mjs';\n *\n * // Create the GraphQL over HTTP handler\n * const handler = createHandler({ schema });\n *\n * // Create a HTTP server using the handler on `/graphql`\n * const server = http.createServer(async (req, res) => {\n *   if (!req.url.startsWith('/graphql')) {\n *     return res.writeHead(404).end();\n *   }\n *\n *   try {\n *     const [body, init] = await handler({\n *       url: req.url,\n *       method: req.method,\n *       headers: req.headers,\n *       body: () => new Promise((resolve) => {\n *         let body = '';\n *         req.on('data', (chunk) => (body += chunk));\n *         req.on('end', () => resolve(body));\n *       }),\n *       raw: req,\n *     });\n *     res.writeHead(init.status, init.statusText, init.headers).end(body);\n *   } catch (err) {\n *     // BEWARE not to transmit the exact internal error message in production environments\n *     res.writeHead(500).end(err.message);\n *   }\n * });\n *\n * server.listen(4000);\n * console.log('Listening to port 4000');\n * ```\n *\n * @category Server\n */\nfunction createHandler(options) {\n    const { schema, context, validate = graphql__WEBPACK_IMPORTED_MODULE_0__.validate, validationRules = [], execute = graphql__WEBPACK_IMPORTED_MODULE_0__.execute, parse = graphql__WEBPACK_IMPORTED_MODULE_0__.parse, getOperationAST = graphql__WEBPACK_IMPORTED_MODULE_0__.getOperationAST, rootValue, onSubscribe, onOperation, formatError = (err) => err, parseRequestParams: optionsParseRequestParams = parseRequestParams, } = options;\n    return async function handler(req) {\n        let acceptedMediaType = null;\n        const accepts = (getHeader(req, 'accept') || '*/*')\n            .replace(/\\s/g, '')\n            .toLowerCase()\n            .split(',');\n        for (const accept of accepts) {\n            // accept-charset became obsolete, shouldnt be used (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Charset)\n            // TODO: handle the weight parameter \"q\"\n            const [mediaType, ...params] = accept.split(';');\n            const charset = (params === null || params === void 0 ? void 0 : params.find((param) => param.includes('charset='))) || 'charset=utf-8'; // utf-8 is assumed when not specified;\n            if (mediaType === 'application/graphql-response+json' &&\n                charset === 'charset=utf-8') {\n                acceptedMediaType = 'application/graphql-response+json';\n                break;\n            }\n            // application/json should be the default until watershed\n            if ((mediaType === 'application/json' ||\n                mediaType === 'application/*' ||\n                mediaType === '*/*') &&\n                (charset === 'charset=utf-8' || charset === 'charset=utf8')) {\n                acceptedMediaType = 'application/json';\n                break;\n            }\n        }\n        if (!acceptedMediaType) {\n            return [\n                null,\n                {\n                    status: 406,\n                    statusText: 'Not Acceptable',\n                    headers: {\n                        accept: 'application/graphql-response+json; charset=utf-8, application/json; charset=utf-8',\n                    },\n                },\n            ];\n        }\n        let params;\n        try {\n            let paramsOrRes = await optionsParseRequestParams(req);\n            if (!paramsOrRes)\n                paramsOrRes = await parseRequestParams(req);\n            if (isResponse(paramsOrRes))\n                return paramsOrRes;\n            params = paramsOrRes;\n        }\n        catch (err) {\n            return makeResponse(err, acceptedMediaType, formatError);\n        }\n        let args;\n        const maybeResErrsOrArgs = await (onSubscribe === null || onSubscribe === void 0 ? void 0 : onSubscribe(req, params));\n        if (isResponse(maybeResErrsOrArgs))\n            return maybeResErrsOrArgs;\n        else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isExecutionResult)(maybeResErrsOrArgs) ||\n            areGraphQLErrors(maybeResErrsOrArgs))\n            return makeResponse(maybeResErrsOrArgs, acceptedMediaType, formatError);\n        else if (maybeResErrsOrArgs)\n            args = maybeResErrsOrArgs;\n        else {\n            if (!schema)\n                throw new Error('The GraphQL schema is not provided');\n            const { operationName, query, variables } = params;\n            let document;\n            try {\n                document = parse(query);\n            }\n            catch (err) {\n                return makeResponse(err, acceptedMediaType, formatError);\n            }\n            const resOrContext = typeof context === 'function' ? await context(req, params) : context;\n            if (isResponse(resOrContext))\n                return resOrContext;\n            const argsWithoutSchema = {\n                operationName,\n                document,\n                variableValues: variables,\n                contextValue: resOrContext,\n            };\n            if (typeof schema === 'function') {\n                const resOrSchema = await schema(req, argsWithoutSchema);\n                if (isResponse(resOrSchema))\n                    return resOrSchema;\n                args = Object.assign(Object.assign({}, argsWithoutSchema), { schema: resOrSchema });\n            }\n            else {\n                args = Object.assign(Object.assign({}, argsWithoutSchema), { schema });\n            }\n            let rules = graphql__WEBPACK_IMPORTED_MODULE_0__.specifiedRules;\n            if (typeof validationRules === 'function') {\n                rules = await validationRules(req, args, graphql__WEBPACK_IMPORTED_MODULE_0__.specifiedRules);\n            }\n            else {\n                rules = [...rules, ...validationRules];\n            }\n            const validationErrs = validate(args.schema, args.document, rules);\n            if (validationErrs.length) {\n                return makeResponse(validationErrs, acceptedMediaType, formatError);\n            }\n        }\n        let operation;\n        try {\n            const ast = getOperationAST(args.document, args.operationName);\n            if (!ast)\n                throw null;\n            operation = ast.operation;\n        }\n        catch (_a) {\n            return makeResponse(new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Unable to detect operation AST'), acceptedMediaType, formatError);\n        }\n        if (operation === 'subscription') {\n            return makeResponse(new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Subscriptions are not supported'), acceptedMediaType, formatError);\n        }\n        // mutations cannot happen over GETs\n        // https://graphql.github.io/graphql-over-http/draft/#sel-CALFJRPAAELBAAxwP\n        if (operation === 'mutation' && req.method === 'GET') {\n            return [\n                JSON.stringify({\n                    errors: [new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Cannot perform mutations over GET')],\n                }),\n                {\n                    status: 405,\n                    statusText: 'Method Not Allowed',\n                    headers: {\n                        allow: 'POST',\n                    },\n                },\n            ];\n        }\n        if (!('rootValue' in args)) {\n            args.rootValue = rootValue;\n        }\n        if (!('contextValue' in args)) {\n            const resOrContext = typeof context === 'function' ? await context(req, params) : context;\n            if (isResponse(resOrContext))\n                return resOrContext;\n            args.contextValue = resOrContext;\n        }\n        let result = await execute(args);\n        const maybeResponseOrResult = await (onOperation === null || onOperation === void 0 ? void 0 : onOperation(req, args, result));\n        if (isResponse(maybeResponseOrResult))\n            return maybeResponseOrResult;\n        else if (maybeResponseOrResult)\n            result = maybeResponseOrResult;\n        if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAsyncIterable)(result)) {\n            return makeResponse(new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Subscriptions are not supported'), acceptedMediaType, formatError);\n        }\n        return makeResponse(result, acceptedMediaType, formatError);\n    };\n}\n/**\n * Creates an appropriate GraphQL over HTTP response following the provided arguments.\n *\n * If the first argument is an `ExecutionResult`, the operation will be treated as \"successful\".\n *\n * If the first argument is (an array of) `GraphQLError`, or an `ExecutionResult` without the `data` field, it will be treated\n * the response will be constructed with the help of `acceptedMediaType` complying with the GraphQL over HTTP spec.\n *\n * If the first argument is an `Error`, the operation will be treated as a bad request responding with `400: Bad Request` and the\n * error will be present in the `ExecutionResult` style.\n */\nfunction makeResponse(resultOrErrors, acceptedMediaType, formatError) {\n    if (resultOrErrors instanceof Error &&\n        // because GraphQLError extends the Error class\n        !isGraphQLError(resultOrErrors)) {\n        return [\n            JSON.stringify({ errors: [formatError(resultOrErrors)] }, jsonErrorReplacer),\n            {\n                status: 400,\n                statusText: 'Bad Request',\n                headers: {\n                    'content-type': 'application/json; charset=utf-8',\n                },\n            },\n        ];\n    }\n    const errors = isGraphQLError(resultOrErrors)\n        ? [resultOrErrors]\n        : areGraphQLErrors(resultOrErrors)\n            ? resultOrErrors\n            : null;\n    if (errors) {\n        return [\n            JSON.stringify({ errors: errors.map(formatError) }, jsonErrorReplacer),\n            Object.assign(Object.assign({}, (acceptedMediaType === 'application/json'\n                ? {\n                    status: 200,\n                    statusText: 'OK',\n                }\n                : {\n                    status: 400,\n                    statusText: 'Bad Request',\n                })), { headers: {\n                    'content-type': acceptedMediaType === 'application/json'\n                        ? 'application/json; charset=utf-8'\n                        : 'application/graphql-response+json; charset=utf-8',\n                } }),\n        ];\n    }\n    return [\n        JSON.stringify('errors' in resultOrErrors && resultOrErrors.errors\n            ? Object.assign(Object.assign({}, resultOrErrors), { errors: resultOrErrors.errors.map(formatError) }) : resultOrErrors, jsonErrorReplacer),\n        {\n            status: 200,\n            statusText: 'OK',\n            headers: {\n                'content-type': acceptedMediaType === 'application/json'\n                    ? 'application/json; charset=utf-8'\n                    : 'application/graphql-response+json; charset=utf-8',\n            },\n        },\n    ];\n}\nfunction getHeader(req, key) {\n    if (typeof req.headers.get === 'function') {\n        return req.headers.get(key);\n    }\n    return Object(req.headers)[key];\n}\nfunction areGraphQLErrors(obj) {\n    return (Array.isArray(obj) &&\n        obj.length > 0 &&\n        // if one item in the array is a GraphQLError, we're good\n        obj.some(isGraphQLError));\n}\nfunction isGraphQLError(obj) {\n    return obj instanceof graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError;\n}\nfunction jsonErrorReplacer(_key, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nval) {\n    if (val instanceof Error &&\n        // GraphQL errors implement their own stringer\n        !isGraphQLError(val)) {\n        return {\n            // name: val.name, name is included in message\n            message: val.message,\n            // stack: val.stack, can leak sensitive details\n        };\n    }\n    return val;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1odHRwL2xpYi9oYW5kbGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNrTDtBQUN2RztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9EQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxRQUFRO0FBQ1I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLDRCQUE0Qiw2Q0FBZSxrQ0FBa0MsNENBQWMsVUFBVSwwQ0FBWSxvQkFBb0Isb0RBQXNCLHlJQUF5STtBQUNoVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQscUpBQXFKO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxpQ0FBaUM7QUFDckcscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkRBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtDQUFrQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHdCQUF3QixxQkFBcUI7QUFDbEc7QUFDQTtBQUNBLHFEQUFxRCx3QkFBd0IsUUFBUTtBQUNyRjtBQUNBLHdCQUF3QixtREFBYztBQUN0QztBQUNBLHlEQUF5RCxtREFBYztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlEQUFZO0FBQ2hEO0FBQ0E7QUFDQSxvQ0FBb0MsaURBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGlEQUFZO0FBQzdDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyREFBZTtBQUMzQixvQ0FBb0MsaURBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1Q0FBdUM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUNBQWlDO0FBQzlELDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCO0FBQ0EsNkNBQTZDO0FBQzdDLDhEQUE4RDtBQUM5RCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMscUJBQXFCLGdEQUFnRDtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLDBEQUEwRDtBQUMxRCxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpREFBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZXJyZS1sYWItc2l0ZS8uL25vZGVfbW9kdWxlcy9ncmFwaHFsLWh0dHAvbGliL2hhbmRsZXIubWpzPzkzZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogaGFuZGxlclxuICpcbiAqL1xuaW1wb3J0IHsgdmFsaWRhdGUgYXMgZ3JhcGhxbFZhbGlkYXRlLCBzcGVjaWZpZWRSdWxlcywgZXhlY3V0ZSBhcyBncmFwaHFsRXhlY3V0ZSwgcGFyc2UgYXMgZ3JhcGhxbFBhcnNlLCBnZXRPcGVyYXRpb25BU1QgYXMgZ3JhcGhxbEdldE9wZXJhdGlvbkFTVCwgR3JhcGhRTEVycm9yLCB9IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlLCBpc0V4ZWN1dGlvblJlc3VsdCwgaXNPYmplY3QgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG4vKiogQ2hlY2tzIHdoZXRoZXIgdGhlIHBhc3NlZCB2YWx1ZSBpcyB0aGUgYGdyYXBocWwtaHR0cGAgc2VydmVyIGFnbm9zdGljIHJlc3BvbnNlLiAqL1xuZnVuY3Rpb24gaXNSZXNwb25zZSh2YWwpIHtcbiAgICAvLyBUT0RPOiBtYWtlIHN1cmUgdGhlIGNvbnRlbnRzIG9mIGluaXQgbWF0Y2ggUmVzcG9uc2VJbml0XG4gICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHZhbCkgJiZcbiAgICAgICAgKHR5cGVvZiB2YWxbMF0gPT09ICdzdHJpbmcnIHx8IHZhbFswXSA9PT0gbnVsbCkgJiZcbiAgICAgICAgaXNPYmplY3QodmFsWzFdKSk7XG59XG4vKipcbiAqIFRoZSBHcmFwaFFMIG92ZXIgSFRUUCBzcGVjIGNvbXBsaWFudCByZXF1ZXN0IHBhcnNlciBmb3IgYW4gaW5jb21pbmcgR3JhcGhRTCByZXF1ZXN0LlxuICogSXQgcGFyc2VzIGFuZCB2YWxpZGF0ZXMgdGhlIHJlcXVlc3QgaXRzZWxmLCBpbmNsdWRpbmcgdGhlIHJlcXVlc3QgbWV0aG9kIGFuZCB0aGVcbiAqIGNvbnRlbnQtdHlwZSBvZiB0aGUgYm9keS5cbiAqXG4gKiBJZiB0aGUgSFRUUCByZXF1ZXN0IGl0c2VsZiBpcyBpbnZhbGlkIG9yIG1hbGZvcm1lZCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGFuXG4gKiBhcHByb3ByaWF0ZSB7QGxpbmsgUmVzcG9uc2V9LlxuICpcbiAqIElmIHRoZSBIVFRQIHJlcXVlc3QgaXMgdmFsaWQsIGJ1dCBpcyBub3QgYSB3ZWxsLWZvcm1hdHRlZCBHcmFwaFFMIHJlcXVlc3QsIHRoZVxuICogZnVuY3Rpb24gd2lsbCB0aHJvdyBhbiBlcnJvciBhbmQgaXQgaXMgdXAgdG8gdGhlIHVzZXIgdG8gaGFuZGxlIGFuZCByZXNwb25kIGFzXG4gKiB0aGV5IHNlZSBmaXQuXG4gKlxuICogQGNhdGVnb3J5IFNlcnZlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VSZXF1ZXN0UGFyYW1zKHJlcSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZDtcbiAgICBpZiAobWV0aG9kICE9PSAnR0VUJyAmJiBtZXRob2QgIT09ICdQT1NUJykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwNSxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnTWV0aG9kIE5vdCBBbGxvd2VkJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93OiAnR0VULCBQT1NUJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgY29uc3QgW21lZGlhVHlwZSwgY2hhcnNldCA9ICdjaGFyc2V0PXV0Zi04JywgLy8gdXRmLTggaXMgYXNzdW1lZCB3aGVuIG5vdCBzcGVjaWZpZWQuIHRoaXMgcGFyYW1ldGVyIGlzIGVpdGhlciBcImNoYXJzZXRcIiBvciBcImJvdW5kYXJ5XCIgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9Db250ZW50LUxlbmd0aClcbiAgICBdID0gKGdldEhlYWRlcihyZXEsICdjb250ZW50LXR5cGUnKSB8fCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1xccy9nLCAnJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnNwbGl0KCc7Jyk7XG4gICAgY29uc3QgcGFydFBhcmFtcyA9IHt9O1xuICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICBjYXNlIG1ldGhvZCA9PT0gJ0dFVCc6IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgY29udGVudC10eXBlIGlzIHNwZWNpZmllZCBhbmQgaXMgbm90IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZD9cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgWywgc2VhcmNoXSA9IHJlcS51cmwuc3BsaXQoJz8nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCk7XG4gICAgICAgICAgICAgICAgcGFydFBhcmFtcy5vcGVyYXRpb25OYW1lID1cbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc2VhcmNoUGFyYW1zLmdldCgnb3BlcmF0aW9uTmFtZScpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcGFydFBhcmFtcy5xdWVyeSA9IChfYiA9IHNlYXJjaFBhcmFtcy5nZXQoJ3F1ZXJ5JykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBzZWFyY2hQYXJhbXMuZ2V0KCd2YXJpYWJsZXMnKTtcbiAgICAgICAgICAgICAgICBpZiAodmFyaWFibGVzKVxuICAgICAgICAgICAgICAgICAgICBwYXJ0UGFyYW1zLnZhcmlhYmxlcyA9IEpTT04ucGFyc2UodmFyaWFibGVzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbnNpb25zID0gc2VhcmNoUGFyYW1zLmdldCgnZXh0ZW5zaW9ucycpO1xuICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb25zKVxuICAgICAgICAgICAgICAgICAgICBwYXJ0UGFyYW1zLmV4dGVuc2lvbnMgPSBKU09OLnBhcnNlKGV4dGVuc2lvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9jKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnBhcnNhYmxlIFVSTCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBtZXRob2QgPT09ICdQT1NUJyAmJlxuICAgICAgICAgICAgbWVkaWFUeXBlID09PSAnYXBwbGljYXRpb24vanNvbicgJiZcbiAgICAgICAgICAgIGNoYXJzZXQgPT09ICdjaGFyc2V0PXV0Zi04JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcS5ib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBib2R5Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0eXBlb2YgcmVxLmJvZHkgPT09ICdmdW5jdGlvbicgPyBhd2FpdCByZXEuYm9keSgpIDogcmVxLmJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGJvZHkpIDogYm9keTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucGFyc2FibGUgSlNPTiBib2R5Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKU09OIGJvZHkgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFydFBhcmFtcy5vcGVyYXRpb25OYW1lID0gZGF0YS5vcGVyYXRpb25OYW1lO1xuICAgICAgICAgICAgICAgIHBhcnRQYXJhbXMucXVlcnkgPSBkYXRhLnF1ZXJ5O1xuICAgICAgICAgICAgICAgIHBhcnRQYXJhbXMudmFyaWFibGVzID0gZGF0YS52YXJpYWJsZXM7XG4gICAgICAgICAgICAgICAgcGFydFBhcmFtcy5leHRlbnNpb25zID0gZGF0YS5leHRlbnNpb25zO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiAvLyBncmFwaHFsLWh0dHAgZG9lc250IHN1cHBvcnQgYW55IG90aGVyIGNvbnRlbnQgdHlwZVxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MTUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdVbnN1cHBvcnRlZCBNZWRpYSBUeXBlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICB9XG4gICAgaWYgKHBhcnRQYXJhbXMucXVlcnkgPT0gbnVsbClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHF1ZXJ5Jyk7XG4gICAgaWYgKHR5cGVvZiBwYXJ0UGFyYW1zLnF1ZXJ5ICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHF1ZXJ5Jyk7XG4gICAgaWYgKHBhcnRQYXJhbXMudmFyaWFibGVzICE9IG51bGwgJiZcbiAgICAgICAgKHR5cGVvZiBwYXJ0UGFyYW1zLnZhcmlhYmxlcyAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkocGFydFBhcmFtcy52YXJpYWJsZXMpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFyaWFibGVzJyk7XG4gICAgfVxuICAgIGlmIChwYXJ0UGFyYW1zLm9wZXJhdGlvbk5hbWUgIT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgcGFydFBhcmFtcy5vcGVyYXRpb25OYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uTmFtZScpO1xuICAgIH1cbiAgICBpZiAocGFydFBhcmFtcy5leHRlbnNpb25zICE9IG51bGwgJiZcbiAgICAgICAgKHR5cGVvZiBwYXJ0UGFyYW1zLmV4dGVuc2lvbnMgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHBhcnRQYXJhbXMuZXh0ZW5zaW9ucykpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBleHRlbnNpb25zJyk7XG4gICAgfVxuICAgIC8vIHJlcXVlc3QgcGFyYW1ldGVycyBhcmUgY2hlY2tlZCBhbmQgbm93IGNvbXBsZXRlXG4gICAgcmV0dXJuIHBhcnRQYXJhbXM7XG59XG4vKipcbiAqIE1ha2VzIGEgR3JhcGhRTCBvdmVyIEhUVFAgc3BlYyBjb21wbGlhbnQgc2VydmVyIGhhbmRsZXIuIFRoZSBoYW5kbGVyIGNhblxuICogYmUgdXNlZCB3aXRoIHlvdXIgZmF2b3JpdGUgc2VydmVyIGxpYnJhcnkuXG4gKlxuICogQmV3YXJlIHRoYXQgdGhlIGhhbmRsZXIgcmVzb2x2ZXMgb25seSBhZnRlciB0aGUgd2hvbGUgb3BlcmF0aW9uIGNvbXBsZXRlcy5cbiAqXG4gKiBFcnJvcnMgdGhyb3duIGZyb20gKiphbnkqKiBvZiB0aGUgcHJvdmlkZWQgb3B0aW9ucyBvciBjYWxsYmFja3MgKG9yIGV2ZW4gZHVlIHRvXG4gKiBsaWJyYXJ5IG1pc3VzZSBvciBwb3RlbnRpYWwgYnVncykgd2lsbCByZWplY3QgdGhlIGhhbmRsZXIncyBwcm9taXNlLiBUaGV5IGFyZVxuICogY29uc2lkZXJlZCBpbnRlcm5hbCBlcnJvcnMgYW5kIHlvdSBzaG91bGQgdGFrZSBjYXJlIG9mIHRoZW0gYWNjb3JkaW5nbHkuXG4gKlxuICogRm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzLCBpdHMgcmVjb21tZW5kZWQgbm90IHRvIHRyYW5zbWl0IHRoZSBleGFjdCBpbnRlcm5hbFxuICogZXJyb3IgZGV0YWlscyB0byB0aGUgY2xpZW50LCBidXQgaW5zdGVhZCByZXBvcnQgdG8gYW4gZXJyb3IgbG9nZ2luZyB0b29sIG9yIHNpbXBseVxuICogdGhlIGNvbnNvbGUuXG4gKlxuICogU2ltcGxlIGV4YW1wbGUgdXNhZ2Ugd2l0aCBOb2RlOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbiAqIGltcG9ydCB7IGNyZWF0ZUhhbmRsZXIgfSBmcm9tICdncmFwaHFsLWh0dHAnO1xuICogaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9teS1ncmFwaHFsLXNjaGVtYS9pbmRleC5tanMnO1xuICpcbiAqIC8vIENyZWF0ZSB0aGUgR3JhcGhRTCBvdmVyIEhUVFAgaGFuZGxlclxuICogY29uc3QgaGFuZGxlciA9IGNyZWF0ZUhhbmRsZXIoeyBzY2hlbWEgfSk7XG4gKlxuICogLy8gQ3JlYXRlIGEgSFRUUCBzZXJ2ZXIgdXNpbmcgdGhlIGhhbmRsZXIgb24gYC9ncmFwaHFsYFxuICogY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gKiAgIGlmICghcmVxLnVybC5zdGFydHNXaXRoKCcvZ3JhcGhxbCcpKSB7XG4gKiAgICAgcmV0dXJuIHJlcy53cml0ZUhlYWQoNDA0KS5lbmQoKTtcbiAqICAgfVxuICpcbiAqICAgdHJ5IHtcbiAqICAgICBjb25zdCBbYm9keSwgaW5pdF0gPSBhd2FpdCBoYW5kbGVyKHtcbiAqICAgICAgIHVybDogcmVxLnVybCxcbiAqICAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAqICAgICAgIGhlYWRlcnM6IHJlcS5oZWFkZXJzLFxuICogICAgICAgYm9keTogKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAqICAgICAgICAgbGV0IGJvZHkgPSAnJztcbiAqICAgICAgICAgcmVxLm9uKCdkYXRhJywgKGNodW5rKSA9PiAoYm9keSArPSBjaHVuaykpO1xuICogICAgICAgICByZXEub24oJ2VuZCcsICgpID0+IHJlc29sdmUoYm9keSkpO1xuICogICAgICAgfSksXG4gKiAgICAgICByYXc6IHJlcSxcbiAqICAgICB9KTtcbiAqICAgICByZXMud3JpdGVIZWFkKGluaXQuc3RhdHVzLCBpbml0LnN0YXR1c1RleHQsIGluaXQuaGVhZGVycykuZW5kKGJvZHkpO1xuICogICB9IGNhdGNoIChlcnIpIHtcbiAqICAgICAvLyBCRVdBUkUgbm90IHRvIHRyYW5zbWl0IHRoZSBleGFjdCBpbnRlcm5hbCBlcnJvciBtZXNzYWdlIGluIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzXG4gKiAgICAgcmVzLndyaXRlSGVhZCg1MDApLmVuZChlcnIubWVzc2FnZSk7XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIHNlcnZlci5saXN0ZW4oNDAwMCk7XG4gKiBjb25zb2xlLmxvZygnTGlzdGVuaW5nIHRvIHBvcnQgNDAwMCcpO1xuICogYGBgXG4gKlxuICogQGNhdGVnb3J5IFNlcnZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZGxlcihvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzY2hlbWEsIGNvbnRleHQsIHZhbGlkYXRlID0gZ3JhcGhxbFZhbGlkYXRlLCB2YWxpZGF0aW9uUnVsZXMgPSBbXSwgZXhlY3V0ZSA9IGdyYXBocWxFeGVjdXRlLCBwYXJzZSA9IGdyYXBocWxQYXJzZSwgZ2V0T3BlcmF0aW9uQVNUID0gZ3JhcGhxbEdldE9wZXJhdGlvbkFTVCwgcm9vdFZhbHVlLCBvblN1YnNjcmliZSwgb25PcGVyYXRpb24sIGZvcm1hdEVycm9yID0gKGVycikgPT4gZXJyLCBwYXJzZVJlcXVlc3RQYXJhbXM6IG9wdGlvbnNQYXJzZVJlcXVlc3RQYXJhbXMgPSBwYXJzZVJlcXVlc3RQYXJhbXMsIH0gPSBvcHRpb25zO1xuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSkge1xuICAgICAgICBsZXQgYWNjZXB0ZWRNZWRpYVR5cGUgPSBudWxsO1xuICAgICAgICBjb25zdCBhY2NlcHRzID0gKGdldEhlYWRlcihyZXEsICdhY2NlcHQnKSB8fCAnKi8qJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMvZywgJycpXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgLnNwbGl0KCcsJyk7XG4gICAgICAgIGZvciAoY29uc3QgYWNjZXB0IG9mIGFjY2VwdHMpIHtcbiAgICAgICAgICAgIC8vIGFjY2VwdC1jaGFyc2V0IGJlY2FtZSBvYnNvbGV0ZSwgc2hvdWxkbnQgYmUgdXNlZCAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL0FjY2VwdC1DaGFyc2V0KVxuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIHRoZSB3ZWlnaHQgcGFyYW1ldGVyIFwicVwiXG4gICAgICAgICAgICBjb25zdCBbbWVkaWFUeXBlLCAuLi5wYXJhbXNdID0gYWNjZXB0LnNwbGl0KCc7Jyk7XG4gICAgICAgICAgICBjb25zdCBjaGFyc2V0ID0gKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5maW5kKChwYXJhbSkgPT4gcGFyYW0uaW5jbHVkZXMoJ2NoYXJzZXQ9JykpKSB8fCAnY2hhcnNldD11dGYtOCc7IC8vIHV0Zi04IGlzIGFzc3VtZWQgd2hlbiBub3Qgc3BlY2lmaWVkO1xuICAgICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2dyYXBocWwtcmVzcG9uc2UranNvbicgJiZcbiAgICAgICAgICAgICAgICBjaGFyc2V0ID09PSAnY2hhcnNldD11dGYtOCcpIHtcbiAgICAgICAgICAgICAgICBhY2NlcHRlZE1lZGlhVHlwZSA9ICdhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb24nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXBwbGljYXRpb24vanNvbiBzaG91bGQgYmUgdGhlIGRlZmF1bHQgdW50aWwgd2F0ZXJzaGVkXG4gICAgICAgICAgICBpZiAoKG1lZGlhVHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8XG4gICAgICAgICAgICAgICAgbWVkaWFUeXBlID09PSAnYXBwbGljYXRpb24vKicgfHxcbiAgICAgICAgICAgICAgICBtZWRpYVR5cGUgPT09ICcqLyonKSAmJlxuICAgICAgICAgICAgICAgIChjaGFyc2V0ID09PSAnY2hhcnNldD11dGYtOCcgfHwgY2hhcnNldCA9PT0gJ2NoYXJzZXQ9dXRmOCcpKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0ZWRNZWRpYVR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY2NlcHRlZE1lZGlhVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MDYsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdOb3QgQWNjZXB0YWJsZScsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2dyYXBocWwtcmVzcG9uc2UranNvbjsgY2hhcnNldD11dGYtOCwgYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcmFtcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBwYXJhbXNPclJlcyA9IGF3YWl0IG9wdGlvbnNQYXJzZVJlcXVlc3RQYXJhbXMocmVxKTtcbiAgICAgICAgICAgIGlmICghcGFyYW1zT3JSZXMpXG4gICAgICAgICAgICAgICAgcGFyYW1zT3JSZXMgPSBhd2FpdCBwYXJzZVJlcXVlc3RQYXJhbXMocmVxKTtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKHBhcmFtc09yUmVzKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zT3JSZXM7XG4gICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXNPclJlcztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZVJlc3BvbnNlKGVyciwgYWNjZXB0ZWRNZWRpYVR5cGUsIGZvcm1hdEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXJncztcbiAgICAgICAgY29uc3QgbWF5YmVSZXNFcnJzT3JBcmdzID0gYXdhaXQgKG9uU3Vic2NyaWJlID09PSBudWxsIHx8IG9uU3Vic2NyaWJlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblN1YnNjcmliZShyZXEsIHBhcmFtcykpO1xuICAgICAgICBpZiAoaXNSZXNwb25zZShtYXliZVJlc0VycnNPckFyZ3MpKVxuICAgICAgICAgICAgcmV0dXJuIG1heWJlUmVzRXJyc09yQXJncztcbiAgICAgICAgZWxzZSBpZiAoaXNFeGVjdXRpb25SZXN1bHQobWF5YmVSZXNFcnJzT3JBcmdzKSB8fFxuICAgICAgICAgICAgYXJlR3JhcGhRTEVycm9ycyhtYXliZVJlc0VycnNPckFyZ3MpKVxuICAgICAgICAgICAgcmV0dXJuIG1ha2VSZXNwb25zZShtYXliZVJlc0VycnNPckFyZ3MsIGFjY2VwdGVkTWVkaWFUeXBlLCBmb3JtYXRFcnJvcik7XG4gICAgICAgIGVsc2UgaWYgKG1heWJlUmVzRXJyc09yQXJncylcbiAgICAgICAgICAgIGFyZ3MgPSBtYXliZVJlc0VycnNPckFyZ3M7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgR3JhcGhRTCBzY2hlbWEgaXMgbm90IHByb3ZpZGVkJyk7XG4gICAgICAgICAgICBjb25zdCB7IG9wZXJhdGlvbk5hbWUsIHF1ZXJ5LCB2YXJpYWJsZXMgfSA9IHBhcmFtcztcbiAgICAgICAgICAgIGxldCBkb2N1bWVudDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQgPSBwYXJzZShxdWVyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VSZXNwb25zZShlcnIsIGFjY2VwdGVkTWVkaWFUeXBlLCBmb3JtYXRFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNPckNvbnRleHQgPSB0eXBlb2YgY29udGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGNvbnRleHQocmVxLCBwYXJhbXMpIDogY29udGV4dDtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc09yQ29udGV4dCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc09yQ29udGV4dDtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3NXaXRob3V0U2NoZW1hID0ge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgdmFyaWFibGVWYWx1ZXM6IHZhcmlhYmxlcyxcbiAgICAgICAgICAgICAgICBjb250ZXh0VmFsdWU6IHJlc09yQ29udGV4dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc09yU2NoZW1hID0gYXdhaXQgc2NoZW1hKHJlcSwgYXJnc1dpdGhvdXRTY2hlbWEpO1xuICAgICAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc09yU2NoZW1hKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc09yU2NoZW1hO1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFyZ3NXaXRob3V0U2NoZW1hKSwgeyBzY2hlbWE6IHJlc09yU2NoZW1hIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJncyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYXJnc1dpdGhvdXRTY2hlbWEpLCB7IHNjaGVtYSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBydWxlcyA9IHNwZWNpZmllZFJ1bGVzO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0aW9uUnVsZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBydWxlcyA9IGF3YWl0IHZhbGlkYXRpb25SdWxlcyhyZXEsIGFyZ3MsIHNwZWNpZmllZFJ1bGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJ1bGVzID0gWy4uLnJ1bGVzLCAuLi52YWxpZGF0aW9uUnVsZXNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvbkVycnMgPSB2YWxpZGF0ZShhcmdzLnNjaGVtYSwgYXJncy5kb2N1bWVudCwgcnVsZXMpO1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlUmVzcG9uc2UodmFsaWRhdGlvbkVycnMsIGFjY2VwdGVkTWVkaWFUeXBlLCBmb3JtYXRFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wZXJhdGlvbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFzdCA9IGdldE9wZXJhdGlvbkFTVChhcmdzLmRvY3VtZW50LCBhcmdzLm9wZXJhdGlvbk5hbWUpO1xuICAgICAgICAgICAgaWYgKCFhc3QpXG4gICAgICAgICAgICAgICAgdGhyb3cgbnVsbDtcbiAgICAgICAgICAgIG9wZXJhdGlvbiA9IGFzdC5vcGVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZVJlc3BvbnNlKG5ldyBHcmFwaFFMRXJyb3IoJ1VuYWJsZSB0byBkZXRlY3Qgb3BlcmF0aW9uIEFTVCcpLCBhY2NlcHRlZE1lZGlhVHlwZSwgZm9ybWF0RXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdzdWJzY3JpcHRpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZVJlc3BvbnNlKG5ldyBHcmFwaFFMRXJyb3IoJ1N1YnNjcmlwdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQnKSwgYWNjZXB0ZWRNZWRpYVR5cGUsIGZvcm1hdEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtdXRhdGlvbnMgY2Fubm90IGhhcHBlbiBvdmVyIEdFVHNcbiAgICAgICAgLy8gaHR0cHM6Ly9ncmFwaHFsLmdpdGh1Yi5pby9ncmFwaHFsLW92ZXItaHR0cC9kcmFmdC8jc2VsLUNBTEZKUlBBQUVMQkFBeHdQXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdtdXRhdGlvbicgJiYgcmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFtuZXcgR3JhcGhRTEVycm9yKCdDYW5ub3QgcGVyZm9ybSBtdXRhdGlvbnMgb3ZlciBHRVQnKV0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDQwNSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogJ01ldGhvZCBOb3QgQWxsb3dlZCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93OiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoJ3Jvb3RWYWx1ZScgaW4gYXJncykpIHtcbiAgICAgICAgICAgIGFyZ3Mucm9vdFZhbHVlID0gcm9vdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKCdjb250ZXh0VmFsdWUnIGluIGFyZ3MpKSB7XG4gICAgICAgICAgICBjb25zdCByZXNPckNvbnRleHQgPSB0eXBlb2YgY29udGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGNvbnRleHQocmVxLCBwYXJhbXMpIDogY29udGV4dDtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc09yQ29udGV4dCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc09yQ29udGV4dDtcbiAgICAgICAgICAgIGFyZ3MuY29udGV4dFZhbHVlID0gcmVzT3JDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBleGVjdXRlKGFyZ3MpO1xuICAgICAgICBjb25zdCBtYXliZVJlc3BvbnNlT3JSZXN1bHQgPSBhd2FpdCAob25PcGVyYXRpb24gPT09IG51bGwgfHwgb25PcGVyYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uT3BlcmF0aW9uKHJlcSwgYXJncywgcmVzdWx0KSk7XG4gICAgICAgIGlmIChpc1Jlc3BvbnNlKG1heWJlUmVzcG9uc2VPclJlc3VsdCkpXG4gICAgICAgICAgICByZXR1cm4gbWF5YmVSZXNwb25zZU9yUmVzdWx0O1xuICAgICAgICBlbHNlIGlmIChtYXliZVJlc3BvbnNlT3JSZXN1bHQpXG4gICAgICAgICAgICByZXN1bHQgPSBtYXliZVJlc3BvbnNlT3JSZXN1bHQ7XG4gICAgICAgIGlmIChpc0FzeW5jSXRlcmFibGUocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VSZXNwb25zZShuZXcgR3JhcGhRTEVycm9yKCdTdWJzY3JpcHRpb25zIGFyZSBub3Qgc3VwcG9ydGVkJyksIGFjY2VwdGVkTWVkaWFUeXBlLCBmb3JtYXRFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ha2VSZXNwb25zZShyZXN1bHQsIGFjY2VwdGVkTWVkaWFUeXBlLCBmb3JtYXRFcnJvcik7XG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBhcHByb3ByaWF0ZSBHcmFwaFFMIG92ZXIgSFRUUCByZXNwb25zZSBmb2xsb3dpbmcgdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAqXG4gKiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYEV4ZWN1dGlvblJlc3VsdGAsIHRoZSBvcGVyYXRpb24gd2lsbCBiZSB0cmVhdGVkIGFzIFwic3VjY2Vzc2Z1bFwiLlxuICpcbiAqIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyAoYW4gYXJyYXkgb2YpIGBHcmFwaFFMRXJyb3JgLCBvciBhbiBgRXhlY3V0aW9uUmVzdWx0YCB3aXRob3V0IHRoZSBgZGF0YWAgZmllbGQsIGl0IHdpbGwgYmUgdHJlYXRlZFxuICogdGhlIHJlc3BvbnNlIHdpbGwgYmUgY29uc3RydWN0ZWQgd2l0aCB0aGUgaGVscCBvZiBgYWNjZXB0ZWRNZWRpYVR5cGVgIGNvbXBseWluZyB3aXRoIHRoZSBHcmFwaFFMIG92ZXIgSFRUUCBzcGVjLlxuICpcbiAqIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBgRXJyb3JgLCB0aGUgb3BlcmF0aW9uIHdpbGwgYmUgdHJlYXRlZCBhcyBhIGJhZCByZXF1ZXN0IHJlc3BvbmRpbmcgd2l0aCBgNDAwOiBCYWQgUmVxdWVzdGAgYW5kIHRoZVxuICogZXJyb3Igd2lsbCBiZSBwcmVzZW50IGluIHRoZSBgRXhlY3V0aW9uUmVzdWx0YCBzdHlsZS5cbiAqL1xuZnVuY3Rpb24gbWFrZVJlc3BvbnNlKHJlc3VsdE9yRXJyb3JzLCBhY2NlcHRlZE1lZGlhVHlwZSwgZm9ybWF0RXJyb3IpIHtcbiAgICBpZiAocmVzdWx0T3JFcnJvcnMgaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgICAvLyBiZWNhdXNlIEdyYXBoUUxFcnJvciBleHRlbmRzIHRoZSBFcnJvciBjbGFzc1xuICAgICAgICAhaXNHcmFwaFFMRXJyb3IocmVzdWx0T3JFcnJvcnMpKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IGVycm9yczogW2Zvcm1hdEVycm9yKHJlc3VsdE9yRXJyb3JzKV0gfSwganNvbkVycm9yUmVwbGFjZXIpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdCYWQgUmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH1cbiAgICBjb25zdCBlcnJvcnMgPSBpc0dyYXBoUUxFcnJvcihyZXN1bHRPckVycm9ycylcbiAgICAgICAgPyBbcmVzdWx0T3JFcnJvcnNdXG4gICAgICAgIDogYXJlR3JhcGhRTEVycm9ycyhyZXN1bHRPckVycm9ycylcbiAgICAgICAgICAgID8gcmVzdWx0T3JFcnJvcnNcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IGVycm9yczogZXJyb3JzLm1hcChmb3JtYXRFcnJvcikgfSwganNvbkVycm9yUmVwbGFjZXIpLFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoYWNjZXB0ZWRNZWRpYVR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogJ09LJyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnQmFkIFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIH0pKSwgeyBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiBhY2NlcHRlZE1lZGlhVHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04J1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnYXBwbGljYXRpb24vZ3JhcGhxbC1yZXNwb25zZStqc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgICAgICB9IH0pLFxuICAgICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICBKU09OLnN0cmluZ2lmeSgnZXJyb3JzJyBpbiByZXN1bHRPckVycm9ycyAmJiByZXN1bHRPckVycm9ycy5lcnJvcnNcbiAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXN1bHRPckVycm9ycyksIHsgZXJyb3JzOiByZXN1bHRPckVycm9ycy5lcnJvcnMubWFwKGZvcm1hdEVycm9yKSB9KSA6IHJlc3VsdE9yRXJyb3JzLCBqc29uRXJyb3JSZXBsYWNlciksXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogJ09LJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogYWNjZXB0ZWRNZWRpYVR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04J1xuICAgICAgICAgICAgICAgICAgICA6ICdhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICBdO1xufVxuZnVuY3Rpb24gZ2V0SGVhZGVyKHJlcSwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXEuaGVhZGVycy5nZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHJlcS5oZWFkZXJzLmdldChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0KHJlcS5oZWFkZXJzKVtrZXldO1xufVxuZnVuY3Rpb24gYXJlR3JhcGhRTEVycm9ycyhvYmopIHtcbiAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkob2JqKSAmJlxuICAgICAgICBvYmoubGVuZ3RoID4gMCAmJlxuICAgICAgICAvLyBpZiBvbmUgaXRlbSBpbiB0aGUgYXJyYXkgaXMgYSBHcmFwaFFMRXJyb3IsIHdlJ3JlIGdvb2RcbiAgICAgICAgb2JqLnNvbWUoaXNHcmFwaFFMRXJyb3IpKTtcbn1cbmZ1bmN0aW9uIGlzR3JhcGhRTEVycm9yKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBHcmFwaFFMRXJyb3I7XG59XG5mdW5jdGlvbiBqc29uRXJyb3JSZXBsYWNlcihfa2V5LCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG52YWwpIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgLy8gR3JhcGhRTCBlcnJvcnMgaW1wbGVtZW50IHRoZWlyIG93biBzdHJpbmdlclxuICAgICAgICAhaXNHcmFwaFFMRXJyb3IodmFsKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gbmFtZTogdmFsLm5hbWUsIG5hbWUgaXMgaW5jbHVkZWQgaW4gbWVzc2FnZVxuICAgICAgICAgICAgbWVzc2FnZTogdmFsLm1lc3NhZ2UsXG4gICAgICAgICAgICAvLyBzdGFjazogdmFsLnN0YWNrLCBjYW4gbGVhayBzZW5zaXRpdmUgZGV0YWlsc1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/graphql-http/lib/handler.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/graphql-http/lib/use/fetch.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/graphql-http/lib/use/fetch.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandler: () => (/* binding */ createHandler),\n/* harmony export */   parseRequestParams: () => (/* binding */ parseRequestParams)\n/* harmony export */ });\n/* harmony import */ var _handler_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../handler.mjs */ \"(rsc)/./node_modules/graphql-http/lib/handler.mjs\");\n\n/**\n * The GraphQL over HTTP spec compliant request parser for an incoming GraphQL request.\n *\n * It is important to pass in the `abortedRef` so that the parser does not perform any\n * operations on a disposed request (see example).\n *\n * If the HTTP request _is not_ a [well-formatted GraphQL over HTTP request](https://graphql.github.io/graphql-over-http/draft/#sec-Request), the function will return a `Response`.\n *\n * If the HTTP request _is_ a [well-formatted GraphQL over HTTP request](https://graphql.github.io/graphql-over-http/draft/#sec-Request), but is invalid or malformed,\n * the function will throw an error and it is up to the user to handle and respond as they see fit.\n *\n * ```js\n * import http from 'http';\n * import { createServerAdapter } from '@whatwg-node/server'; // yarn add @whatwg-node/server\n * import { parseRequestParams } from 'graphql-http/lib/use/fetch';\n *\n * // Use this adapter in _any_ environment.\n * const adapter = createServerAdapter({\n *   handleRequest: async (req) => {\n *     try {\n *       const paramsOrResponse = await parseRequestParams(req);\n *       if (paramsOrResponse instanceof Response) {\n *         // not a well-formatted GraphQL over HTTP request,\n *         // parser created a response object to use\n *         return paramsOrResponse;\n *       }\n *\n *       // well-formatted GraphQL over HTTP request,\n *       // with valid parameters\n *       return new Response(JSON.stringify(paramsOrResponse, null, '  '), {\n *         status: 200,\n *       });\n *     } catch (err) {\n *       // well-formatted GraphQL over HTTP request,\n *       // but with invalid parameters\n *       return new Response(err.message, { status: 400 });\n *     }\n *   },\n * });\n *\n * const server = http.createServer(adapter);\n *\n * server.listen(4000);\n * console.log('Listening to port 4000');\n * ```\n *\n * @category Server/fetch\n */\nasync function parseRequestParams(req, api = {}) {\n    const rawReq = toRequest(req, api);\n    const paramsOrRes = await (0,_handler_mjs__WEBPACK_IMPORTED_MODULE_0__.parseRequestParams)(rawReq);\n    if (!('query' in paramsOrRes)) {\n        const [body, init] = paramsOrRes;\n        return new (api.Response || Response)(body, init);\n    }\n    return paramsOrRes;\n}\n/**\n * Create a GraphQL over HTTP spec compliant request handler for\n * a fetch environment like Deno, Bun, CloudFlare Workers, Lambdas, etc.\n *\n * You can use [@whatwg-node/server](https://github.com/ardatan/whatwg-node/tree/master/packages/server) to create a server adapter and\n * isomorphically use it in _any_ environment. See an example:\n *\n * ```js\n * import http from 'http';\n * import { createServerAdapter } from '@whatwg-node/server'; // yarn add @whatwg-node/server\n * import { createHandler } from 'graphql-http/lib/use/fetch';\n * import { schema } from './my-graphql-schema/index.mjs';\n *\n * // Use this adapter in _any_ environment.\n * const adapter = createServerAdapter({\n *   handleRequest: createHandler({ schema }),\n * });\n *\n * const server = http.createServer(adapter);\n *\n * server.listen(4000);\n * console.log('Listening to port 4000');\n * ```\n *\n * @param reqCtx - Custom fetch API engine, will use from global scope if left undefined.\n *\n * @category Server/fetch\n */\nfunction createHandler(options, reqCtx = {}) {\n    const api = {\n        Response: reqCtx.Response || Response,\n        TextEncoder: reqCtx.TextEncoder || TextEncoder,\n        ReadableStream: reqCtx.ReadableStream || ReadableStream,\n    };\n    const handler = (0,_handler_mjs__WEBPACK_IMPORTED_MODULE_0__.createHandler)(options);\n    return async function handleRequest(req) {\n        try {\n            const [body, init] = await handler(toRequest(req, api));\n            return new api.Response(body, init);\n        }\n        catch (err) {\n            // The handler shouldnt throw errors.\n            // If you wish to handle them differently, consider implementing your own request handler.\n            console.error('Internal error occurred during request handling. ' +\n                'Please check your implementation.', err);\n            return new api.Response(null, { status: 500 });\n        }\n    };\n}\nfunction toRequest(req, api = {}) {\n    return {\n        method: req.method,\n        url: req.url,\n        headers: req.headers,\n        body: () => req.text(),\n        raw: req,\n        context: {\n            Response: api.Response || Response,\n            TextEncoder: api.TextEncoder || TextEncoder,\n            ReadableStream: api.ReadableStream || ReadableStream,\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1odHRwL2xpYi91c2UvZmV0Y2gubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpSDtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0JBQXNCLDRCQUE0QjtBQUM5RCxZQUFZLHFCQUFxQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixTQUFTO0FBQ1Q7QUFDQTtBQUNBLDRDQUE0QyxhQUFhO0FBQ3pEO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywrQ0FBK0M7QUFDdEQ7QUFDQSw4QkFBOEIsZ0VBQXFCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0JBQXNCLDRCQUE0QjtBQUM5RCxZQUFZLGdCQUFnQjtBQUM1QixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFFBQVE7QUFDNUMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQ0FBMkM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyREFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsYUFBYTtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnJlLWxhYi1zaXRlLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwtaHR0cC9saWIvdXNlL2ZldGNoLm1qcz83M2EwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUhhbmRsZXIgYXMgY3JlYXRlUmF3SGFuZGxlciwgcGFyc2VSZXF1ZXN0UGFyYW1zIGFzIHJhd1BhcnNlUmVxdWVzdFBhcmFtcywgfSBmcm9tICcuLi9oYW5kbGVyLm1qcyc7XG4vKipcbiAqIFRoZSBHcmFwaFFMIG92ZXIgSFRUUCBzcGVjIGNvbXBsaWFudCByZXF1ZXN0IHBhcnNlciBmb3IgYW4gaW5jb21pbmcgR3JhcGhRTCByZXF1ZXN0LlxuICpcbiAqIEl0IGlzIGltcG9ydGFudCB0byBwYXNzIGluIHRoZSBgYWJvcnRlZFJlZmAgc28gdGhhdCB0aGUgcGFyc2VyIGRvZXMgbm90IHBlcmZvcm0gYW55XG4gKiBvcGVyYXRpb25zIG9uIGEgZGlzcG9zZWQgcmVxdWVzdCAoc2VlIGV4YW1wbGUpLlxuICpcbiAqIElmIHRoZSBIVFRQIHJlcXVlc3QgX2lzIG5vdF8gYSBbd2VsbC1mb3JtYXR0ZWQgR3JhcGhRTCBvdmVyIEhUVFAgcmVxdWVzdF0oaHR0cHM6Ly9ncmFwaHFsLmdpdGh1Yi5pby9ncmFwaHFsLW92ZXItaHR0cC9kcmFmdC8jc2VjLVJlcXVlc3QpLCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBgUmVzcG9uc2VgLlxuICpcbiAqIElmIHRoZSBIVFRQIHJlcXVlc3QgX2lzXyBhIFt3ZWxsLWZvcm1hdHRlZCBHcmFwaFFMIG92ZXIgSFRUUCByZXF1ZXN0XShodHRwczovL2dyYXBocWwuZ2l0aHViLmlvL2dyYXBocWwtb3Zlci1odHRwL2RyYWZ0LyNzZWMtUmVxdWVzdCksIGJ1dCBpcyBpbnZhbGlkIG9yIG1hbGZvcm1lZCxcbiAqIHRoZSBmdW5jdGlvbiB3aWxsIHRocm93IGFuIGVycm9yIGFuZCBpdCBpcyB1cCB0byB0aGUgdXNlciB0byBoYW5kbGUgYW5kIHJlc3BvbmQgYXMgdGhleSBzZWUgZml0LlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbiAqIGltcG9ydCB7IGNyZWF0ZVNlcnZlckFkYXB0ZXIgfSBmcm9tICdAd2hhdHdnLW5vZGUvc2VydmVyJzsgLy8geWFybiBhZGQgQHdoYXR3Zy1ub2RlL3NlcnZlclxuICogaW1wb3J0IHsgcGFyc2VSZXF1ZXN0UGFyYW1zIH0gZnJvbSAnZ3JhcGhxbC1odHRwL2xpYi91c2UvZmV0Y2gnO1xuICpcbiAqIC8vIFVzZSB0aGlzIGFkYXB0ZXIgaW4gX2FueV8gZW52aXJvbm1lbnQuXG4gKiBjb25zdCBhZGFwdGVyID0gY3JlYXRlU2VydmVyQWRhcHRlcih7XG4gKiAgIGhhbmRsZVJlcXVlc3Q6IGFzeW5jIChyZXEpID0+IHtcbiAqICAgICB0cnkge1xuICogICAgICAgY29uc3QgcGFyYW1zT3JSZXNwb25zZSA9IGF3YWl0IHBhcnNlUmVxdWVzdFBhcmFtcyhyZXEpO1xuICogICAgICAgaWYgKHBhcmFtc09yUmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuICogICAgICAgICAvLyBub3QgYSB3ZWxsLWZvcm1hdHRlZCBHcmFwaFFMIG92ZXIgSFRUUCByZXF1ZXN0LFxuICogICAgICAgICAvLyBwYXJzZXIgY3JlYXRlZCBhIHJlc3BvbnNlIG9iamVjdCB0byB1c2VcbiAqICAgICAgICAgcmV0dXJuIHBhcmFtc09yUmVzcG9uc2U7XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgLy8gd2VsbC1mb3JtYXR0ZWQgR3JhcGhRTCBvdmVyIEhUVFAgcmVxdWVzdCxcbiAqICAgICAgIC8vIHdpdGggdmFsaWQgcGFyYW1ldGVyc1xuICogICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShwYXJhbXNPclJlc3BvbnNlLCBudWxsLCAnICAnKSwge1xuICogICAgICAgICBzdGF0dXM6IDIwMCxcbiAqICAgICAgIH0pO1xuICogICAgIH0gY2F0Y2ggKGVycikge1xuICogICAgICAgLy8gd2VsbC1mb3JtYXR0ZWQgR3JhcGhRTCBvdmVyIEhUVFAgcmVxdWVzdCxcbiAqICAgICAgIC8vIGJ1dCB3aXRoIGludmFsaWQgcGFyYW1ldGVyc1xuICogICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShlcnIubWVzc2FnZSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAqICAgICB9XG4gKiAgIH0sXG4gKiB9KTtcbiAqXG4gKiBjb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhZGFwdGVyKTtcbiAqXG4gKiBzZXJ2ZXIubGlzdGVuKDQwMDApO1xuICogY29uc29sZS5sb2coJ0xpc3RlbmluZyB0byBwb3J0IDQwMDAnKTtcbiAqIGBgYFxuICpcbiAqIEBjYXRlZ29yeSBTZXJ2ZXIvZmV0Y2hcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlUmVxdWVzdFBhcmFtcyhyZXEsIGFwaSA9IHt9KSB7XG4gICAgY29uc3QgcmF3UmVxID0gdG9SZXF1ZXN0KHJlcSwgYXBpKTtcbiAgICBjb25zdCBwYXJhbXNPclJlcyA9IGF3YWl0IHJhd1BhcnNlUmVxdWVzdFBhcmFtcyhyYXdSZXEpO1xuICAgIGlmICghKCdxdWVyeScgaW4gcGFyYW1zT3JSZXMpKSB7XG4gICAgICAgIGNvbnN0IFtib2R5LCBpbml0XSA9IHBhcmFtc09yUmVzO1xuICAgICAgICByZXR1cm4gbmV3IChhcGkuUmVzcG9uc2UgfHwgUmVzcG9uc2UpKGJvZHksIGluaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zT3JSZXM7XG59XG4vKipcbiAqIENyZWF0ZSBhIEdyYXBoUUwgb3ZlciBIVFRQIHNwZWMgY29tcGxpYW50IHJlcXVlc3QgaGFuZGxlciBmb3JcbiAqIGEgZmV0Y2ggZW52aXJvbm1lbnQgbGlrZSBEZW5vLCBCdW4sIENsb3VkRmxhcmUgV29ya2VycywgTGFtYmRhcywgZXRjLlxuICpcbiAqIFlvdSBjYW4gdXNlIFtAd2hhdHdnLW5vZGUvc2VydmVyXShodHRwczovL2dpdGh1Yi5jb20vYXJkYXRhbi93aGF0d2ctbm9kZS90cmVlL21hc3Rlci9wYWNrYWdlcy9zZXJ2ZXIpIHRvIGNyZWF0ZSBhIHNlcnZlciBhZGFwdGVyIGFuZFxuICogaXNvbW9ycGhpY2FsbHkgdXNlIGl0IGluIF9hbnlfIGVudmlyb25tZW50LiBTZWUgYW4gZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG4gKiBpbXBvcnQgeyBjcmVhdGVTZXJ2ZXJBZGFwdGVyIH0gZnJvbSAnQHdoYXR3Zy1ub2RlL3NlcnZlcic7IC8vIHlhcm4gYWRkIEB3aGF0d2ctbm9kZS9zZXJ2ZXJcbiAqIGltcG9ydCB7IGNyZWF0ZUhhbmRsZXIgfSBmcm9tICdncmFwaHFsLWh0dHAvbGliL3VzZS9mZXRjaCc7XG4gKiBpbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL215LWdyYXBocWwtc2NoZW1hL2luZGV4Lm1qcyc7XG4gKlxuICogLy8gVXNlIHRoaXMgYWRhcHRlciBpbiBfYW55XyBlbnZpcm9ubWVudC5cbiAqIGNvbnN0IGFkYXB0ZXIgPSBjcmVhdGVTZXJ2ZXJBZGFwdGVyKHtcbiAqICAgaGFuZGxlUmVxdWVzdDogY3JlYXRlSGFuZGxlcih7IHNjaGVtYSB9KSxcbiAqIH0pO1xuICpcbiAqIGNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFkYXB0ZXIpO1xuICpcbiAqIHNlcnZlci5saXN0ZW4oNDAwMCk7XG4gKiBjb25zb2xlLmxvZygnTGlzdGVuaW5nIHRvIHBvcnQgNDAwMCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHJlcUN0eCAtIEN1c3RvbSBmZXRjaCBBUEkgZW5naW5lLCB3aWxsIHVzZSBmcm9tIGdsb2JhbCBzY29wZSBpZiBsZWZ0IHVuZGVmaW5lZC5cbiAqXG4gKiBAY2F0ZWdvcnkgU2VydmVyL2ZldGNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIYW5kbGVyKG9wdGlvbnMsIHJlcUN0eCA9IHt9KSB7XG4gICAgY29uc3QgYXBpID0ge1xuICAgICAgICBSZXNwb25zZTogcmVxQ3R4LlJlc3BvbnNlIHx8IFJlc3BvbnNlLFxuICAgICAgICBUZXh0RW5jb2RlcjogcmVxQ3R4LlRleHRFbmNvZGVyIHx8IFRleHRFbmNvZGVyLFxuICAgICAgICBSZWFkYWJsZVN0cmVhbTogcmVxQ3R4LlJlYWRhYmxlU3RyZWFtIHx8IFJlYWRhYmxlU3RyZWFtLFxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlciA9IGNyZWF0ZVJhd0hhbmRsZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3QocmVxKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBbYm9keSwgaW5pdF0gPSBhd2FpdCBoYW5kbGVyKHRvUmVxdWVzdChyZXEsIGFwaSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBhcGkuUmVzcG9uc2UoYm9keSwgaW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gVGhlIGhhbmRsZXIgc2hvdWxkbnQgdGhyb3cgZXJyb3JzLlxuICAgICAgICAgICAgLy8gSWYgeW91IHdpc2ggdG8gaGFuZGxlIHRoZW0gZGlmZmVyZW50bHksIGNvbnNpZGVyIGltcGxlbWVudGluZyB5b3VyIG93biByZXF1ZXN0IGhhbmRsZXIuXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnRlcm5hbCBlcnJvciBvY2N1cnJlZCBkdXJpbmcgcmVxdWVzdCBoYW5kbGluZy4gJyArXG4gICAgICAgICAgICAgICAgJ1BsZWFzZSBjaGVjayB5b3VyIGltcGxlbWVudGF0aW9uLicsIGVycik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGFwaS5SZXNwb25zZShudWxsLCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRvUmVxdWVzdChyZXEsIGFwaSA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICB1cmw6IHJlcS51cmwsXG4gICAgICAgIGhlYWRlcnM6IHJlcS5oZWFkZXJzLFxuICAgICAgICBib2R5OiAoKSA9PiByZXEudGV4dCgpLFxuICAgICAgICByYXc6IHJlcSxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgUmVzcG9uc2U6IGFwaS5SZXNwb25zZSB8fCBSZXNwb25zZSxcbiAgICAgICAgICAgIFRleHRFbmNvZGVyOiBhcGkuVGV4dEVuY29kZXIgfHwgVGV4dEVuY29kZXIsXG4gICAgICAgICAgICBSZWFkYWJsZVN0cmVhbTogYXBpLlJlYWRhYmxlU3RyZWFtIHx8IFJlYWRhYmxlU3RyZWFtLFxuICAgICAgICB9LFxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/graphql-http/lib/use/fetch.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/graphql-http/lib/utils.mjs":
/*!*************************************************!*\
  !*** ./node_modules/graphql-http/lib/utils.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extendedTypeof: () => (/* binding */ extendedTypeof),\n/* harmony export */   isAsyncIterable: () => (/* binding */ isAsyncIterable),\n/* harmony export */   isExecutionResult: () => (/* binding */ isExecutionResult),\n/* harmony export */   isObject: () => (/* binding */ isObject)\n/* harmony export */ });\n/**\n *\n * utils\n *\n */\n/** @private */\nfunction extendedTypeof(val) {\n    if (val === null) {\n        return 'null';\n    }\n    if (Array.isArray(val)) {\n        return 'array';\n    }\n    return typeof val;\n}\n/** @private */\nfunction isObject(val) {\n    return typeof val === 'object' && val !== null;\n}\n/** @private */\nfunction isExecutionResult(val) {\n    return (isObject(val) &&\n        ('data' in val || ('data' in val && val.data == null && 'errors' in val)));\n}\n/** @private */\nfunction isAsyncIterable(val) {\n    return typeof Object(val)[Symbol.asyncIterator] === 'function';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1odHRwL2xpYi91dGlscy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VycmUtbGFiLXNpdGUvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1odHRwL2xpYi91dGlscy5tanM/MDcxNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiB1dGlsc1xuICpcbiAqL1xuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kZWRUeXBlb2YodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHZhbDtcbn1cbi8qKiBAcHJpdmF0ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGw7XG59XG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0V4ZWN1dGlvblJlc3VsdCh2YWwpIHtcbiAgICByZXR1cm4gKGlzT2JqZWN0KHZhbCkgJiZcbiAgICAgICAgKCdkYXRhJyBpbiB2YWwgfHwgKCdkYXRhJyBpbiB2YWwgJiYgdmFsLmRhdGEgPT0gbnVsbCAmJiAnZXJyb3JzJyBpbiB2YWwpKSk7XG59XG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUodmFsKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBPYmplY3QodmFsKVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/graphql-http/lib/utils.mjs\n");

/***/ })

};
;